"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[51],{8051:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var r=s(9950),a=s(8232),n=s(2094),i=s(4537),l=s(341),o=s(2823),d=s(9135),c=s(443),p=s(6971),m=s(4090),h=s.n(m),x=s(2631),g=s(1377),b=s(346),f=s(2073),y=s(4414);class u extends r.Component{constructor(){super(...arguments),this.handleAdd=()=>{this.props.owned||!this.props.buildable&&!this.props.selected||this.props.MainStore.LegacyStore.selectLegacy(this.props.id)}}render(){const e=this.props.MainStore.ReqGenStore.reqTooltipData("legacy",this.props.req),t=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);let s="btn btn-dark";return this.props.owned?s+=" btn-off btn-cap":this.props.selected?s+=" !text-white !bg-blue-600 hover:!bg-blue-700 focus:!bg-blue-800 !border-transparent":this.props.buildable||(s+=" btn-off"),(0,y.jsx)("div",{className:"flex flex-col",children:(0,y.jsx)(b.l,{content:(0,y.jsx)(f.A,{id:this.props.id,title:(0,c.v)("leg_"+this.props.id),description:(0,c.v)("leg_"+this.props.id+"_description"),owned:this.props.owned,reqTooltipData:e,genTooltipData:t,prefix:"leg"}),className:"!max-w-[300px]",touch:["hold",500],placement:g.Fr?"top":"bottom",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right","left"]}}]},children:(0,y.jsx)("button",{type:"button",className:s,onClick:this.handleAdd,children:(0,y.jsx)("div",{className:"text-truncate",children:(0,c.v)("leg_"+this.props.id)})})})})}}const j=(0,a.WQ)("MainStore")((0,a.PA)(u));class k extends r.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.MainStore.LegacyStore.toggleSoftReset()},this.handleSoftReset1=()=>{this.props.MainStore.showConfirm("(1/3)","soft_reset_confirm_1",this.handleSoftReset2)},this.handleSoftReset2=()=>{this.props.MainStore.showConfirm("(2/3)","soft_reset_confirm_2",this.handleSoftReset3)},this.handleSoftReset3=()=>{this.props.MainStore.showConfirm("(3/3)","soft_reset_confirm_3",this.handleSoftReset)},this.handleSoftReset=()=>{this.props.MainStore.confirmCancelFunc(),this.props.MainStore.softReset()},this.handleCombatResports=()=>{this.props.MainStore.ArmyStore.toggleBattleReports()}}render(){const{softResetInProgress:e}=this.props.MainStore,{flag:t,flagb:s}=this.props.MainStore.run,{softResetTitle:a,softResetDescription:m,softResetPreDescription:g,showSoftReset:b,legacies:f,buildableLegacies:u,ownedLegacies:k,selectedLegacies:v,legacyAvailable:w}=this.props.MainStore.LegacyStore,{relic:N,tome_wisdom:A,coin:S,gem:_,titan_gift:R,light:C}=this.props.MainStore.ResourcesStore;let M="btn btn-red px-6";M+=" hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700";const L=!(e||2===t||2===s);return(0,y.jsx)(n.e.Root,{show:b,as:r.Fragment,children:(0,y.jsxs)(i.l,{as:"div",className:"relative z-50",onClose:L?this.handleClose:()=>null,static:L,children:[(0,y.jsx)(o.A,{}),(0,y.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,y.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center lg:p-0",children:(0,y.jsx)(n.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,y.jsxs)(i.l.Panel,{className:"modal-container lg:my-8 lg:max-w-4xl lg:pt-6",children:[L?(0,y.jsx)(l.A,{onClick:this.handleClose}):null,(0,y.jsx)("div",{children:(0,y.jsxs)("div",{className:"mt-0",children:[(0,y.jsx)(i.l.Title,{as:"h3",className:"modal-title",children:a}),e?(0,y.jsx)("div",{className:"px-4 pb-4 lg:px-6 lg:pb-6 mt-6 font-game",children:(0,y.jsx)(d.A,{text:(0,c.v)("soft_reset_in_progress")+" . . .",type:"info"})}):(0,y.jsxs)(y.Fragment,{children:[g.length>0?(0,y.jsx)("div",{className:"flex flex-col m-6 text-xl font-bold leading-10",children:(0,y.jsx)(d.A,{text:g.join(" "),type:2===t||2===s?"war":"victory",button:(0,y.jsxs)("button",{type:"button",className:2===t||2===s?"btn btn-red !border dark:border-gray-400":"btn btn-green !border dark:border-gray-400",onClick:this.handleCombatResports,children:[(0,y.jsx)(h(),{path:x.W71,className:"icon mr-1"}),(0,c.v)("combat_reports")]})})}):null,(0,y.jsx)("div",{className:"flex flex-col m-6",children:(0,y.jsx)(d.A,{text:m,type:"info",mobileIcon:!1})}),(0,y.jsxs)("h3",{className:"text-center text-3xl font-bold",children:[(0,c.v)("legacy_points"),": ",w.toLocaleString()]}),N>0||S>0||A>0||_>0||R>0||C>0?(0,y.jsx)("div",{className:"mt-4 mx-auto max-w-52",children:(0,y.jsxs)("div",{className:"rounded border border-gray-300 dark:border-gray-700 overflow-hidden",children:[N>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-orange-500/60 dark:bg-orange-800/90",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_relic")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:N})]},"res_tr_relic"):null,S>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-amber-400/60 dark:bg-amber-600/90",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_coin")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:S})]},"res_tr_coin"):null,A>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-gray-500/60 dark:bg-gray-600/90",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_tome_wisdom")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:A})]},"res_tr_wisdom"):null,_>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-sky-400/60 dark:bg-sky-800/90",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_gem")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:_})]},"res_tr_gem"):null,R>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-indigo-400/60 dark:bg-indigo-800/90",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_titan_gift")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:R})]},"res_tr_titan"):null,C>0?(0,y.jsxs)("div",{className:"flex items-center justify-between px-2 py-1 text-sm bg-gray-200/60 dark:bg-gray-400/80",children:[(0,y.jsx)("span",{className:"whitespace-nowrap text-gray-700 dark:text-mydark-50",children:(0,c.v)("res_light")}),(0,y.jsx)("span",{className:"font-medium ml-2 whitespace-nowrap text-gray-700 dark:text-mydark-50",children:C})]},"res_tr_light"):null]})}):null,f.length>0?(0,y.jsx)("div",{className:"p-6",children:(0,y.jsx)("div",{className:"flex flex-wrap min-w-full p-3 shadow rounded-lg lg:ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:(0,y.jsx)("div",{className:"grid gap-3 grid-cols-fill-180 min-w-full",children:f.map((e=>{let t=u.findIndex((t=>t.id===e.id));const s=-1!==t;t=k.findIndex((t=>t.id===e.id));const r=-1!==t,a=v.includes(e.id);return(0,y.jsx)(j,{id:e.id,buildable:s,owned:r,selected:a,req:e.req,gen:e.gen},"leg_"+e.id)}))})})}):null,(0,y.jsx)("div",{className:"text-center mb-6 px-9 lg:px-0"+(f.length>0?"":" mt-6"),children:(0,y.jsxs)("button",{type:"button",className:"btn btn-red px-6 hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700",onClick:this.handleSoftReset1,children:[(0,y.jsx)("img",{src:p,style:{width:"19px",height:"19px"},className:"icon mr-2 mt-[2px] lg:mt-[1px]",alt:""}),(0,c.v)("prestige")]})})]})]})})]})})})})]})})}}const v=(0,a.WQ)("MainStore")((0,a.PA)(k))},6971:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAABkUlEQVQ4y4WUP0tcURDFz13btVpjskQLS4uUNkKIol/AtPsZbLVVRMIWIhauKNjtx0hv8E+pCLLKCm7IYpNiBTH6S+G5cL28t04zb86cOTP335MSA4L9J2ATOAMGvNqD402grmGWCO3x1i6AU/vU9tO6N0JABeiYeA18LWk6B3TNu3NtyCeKQjtJYQWoGv+Sie4Yv8m7tZxo5aMD/WRpo7GJ/bbxvUj+aOA+Jfr7ONun+yQ3Yv/HuQ8VScvOtyLPpLakmRjbasCZJIUQno0d2K8IOLHyt6TrqrGXbLIYtxPugrEjAX8dzDvZKBHI7Yf5i477FUlVN4lXIUhqSPouqeM42qOkJeevjM3aj6WT9Qru1FE2zaCAc5tOdmm8DjQzbnjn1axJmnR4JWDdys/2Gwn5V9lkwFq2p00B4wkYE+fAdJkYMOn4X5KrxS67Jaf3UiI2kYnt5uu/K7gS74kB/I4a8Y2FEMJnSd1s84cegKReCKFe+BsqWHJuT+ZMAYeF/7OCI68BW75nPS+3D/wcVvcf9jL/QoHkFSUAAAAASUVORK5CYII="}}]);