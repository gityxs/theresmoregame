"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[394],{7394:function(e,t,a){a.r(t),a.d(t,{default:function(){return N}});var s=a(5671),n=a(3144),r=a(9340),i=a(2882),o=a(7313),d=a(2126),l=a(8561),p=a.n(l),c=a(8966),h=a(8982),u=a(1231),x=a(4862),m=a(7914),f=a(5339),b=a(8519),v=a(2171),g=a(6417),y=function(e){(0,r.Z)(a,e);var t=(0,i.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleChange=function(t,a,s){var n="increase"===a?1:-1;s>1?(t+="increase"===a?s:-s,n+="increase"===a?s:-s):"shift"===e.props.MainStore.keyPress?(t+="increase"===a?4:-4,n+="increase"===a?4:-4):"ctrl"===e.props.MainStore.keyPress&&(t+="increase"===a?9:-9,n+="increase"===a?9:-9),e.props.MainStore.PopulationStore.updatePopulation(e.props.id,t,n)},e}return(0,n.Z)(a,[{key:"render",value:function(){var e=this,t=[];return 0===this.props.qty&&this.props.gen.forEach((function(a){var s=(0,h.K)("res_"+a.id),n=e.props.modTooltip.findIndex((function(e){return e.label===s})),r=(a.value<0?"-":"+")+(-1===n?"":e.props.modTooltip[n].value);t.push({label:s,value:r})})),(0,g.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,g.jsxs)("div",{className:"flex-1 text-center px-12 xl:px-0 mb-2 lg:mb-0",children:[0===this.props.modTooltip.length&&0===t.length?(0,g.jsx)("h5",{className:"font-bold whitespace-nowrap inline",children:(0,h.K)("pop_"+this.props.id)}):(0,g.jsx)(m.a,{content:(0,g.jsx)(f.Z,{id:this.props.id,title:(0,h.K)("pop_"+this.props.id),modTooltipData:t.concat(this.props.modTooltip),prefix:"pop",titleClasses:" pt-3"}),touch:["hold",500],placement:x.tq?"top":"bottom",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right","left"]}}]},children:(0,g.jsx)("h5",{className:"font-bold whitespace-nowrap inline py-4 px-10 lg:p-0",children:(0,h.K)("pop_"+this.props.id)})}),(0,g.jsx)("table",{className:"min-w-full my-4 hidden lg:table",children:(0,g.jsx)("tbody",{className:"bg-gray-300 dark:bg-mydark-600 text-sm",children:this.props.gen.map((function(t,a){var s=(0,h.K)("res_"+t.id),n=e.props.modTooltip.findIndex((function(e){return e.label===s}));return(0,g.jsxs)("tr",{className:a%2===0?"bg-gray-200 dark:bg-mydark-300":"",children:[(0,g.jsx)("td",{className:(0,b.AK)(-1===n&&t.value<0?"text-red-600":"","text-left px-4 py-1 whitespace-nowrap"),children:s}),(0,g.jsx)("td",{className:(0,b.AK)(t.value<0?"text-red-600":"","text-right px-4 py-1"),children:-1===n?t.value<0?"-":"+":e.props.modTooltip[n].value})]},e.props.id+"_pop_"+a)}))})})]}),(0,g.jsx)(v.Z,{value:this.props.qty,max:this.props.cap,forceMax:this.props.forceMax,onChange:this.handleChange,small:!0},"spinner_"+this.props.id)]})}}]),a}(o.Component),k=(0,d.f3)("MainStore")((0,d.Pi)(y)),j=function(e){(0,r.Z)(a,e);var t=(0,i.Z)(a);function a(){var e;(0,s.Z)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).handleReset=function(){e.props.MainStore.PopulationStore.resetPopulation()},e}return(0,n.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.MainStore.run,a=this.props.MainStore.PopulationStore,s=a.population,n=a.qtyUnemployed,r=t.population.findIndex((function(e){return e.id===s[0].id})),i=-1!==r&&"undefined"!==typeof t.population[r].value?t.population[r].value:0,o=-1!==(r=t.caps.findIndex((function(e){return e.id===s[0].id})))?t.caps[r].value:0;return(0,g.jsx)(g.Fragment,{children:s.length>1?(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)("div",{className:"flex justify-center mx-auto pt-3 font-bold text-lg",children:[(0,h.K)("pop_"+s[0].id),(0,g.jsxs)("span",{className:"ml-2",children:[i," / ",o]}),i<o?(0,g.jsx)("button",{type:"button",className:"ml-2 mt-0.5 text-gray-400 dark:text-mydark-200 hover:text-red-600 dark:hover:text-red-600 focus:text-red-600 dark:focus:text-red-600",onClick:this.handleReset,children:(0,g.jsx)(p(),{path:c.M_e,className:"icon"})}):null]}),(0,g.jsx)("div",{className:"tab-container sub-container",children:(0,g.jsx)("div",{className:"flex flex-wrap min-w-full mt-3",children:(0,g.jsx)("div",{className:"grid gap-3 grid-cols-fill-200 min-w-full",children:s.map((function(a){if("unemployed"===a.id)return null;var s=t.population.findIndex((function(e){return e.id===a.id})),r=-1!==s&&"undefined"!==typeof t.population[s].value?t.population[s].value:0,i=-1!==(s=t.caps.findIndex((function(e){return e.id===a.id})))?t.caps[s].value:0,o=[];return"unemployed"!==a.id&&(o=e.props.MainStore.ModifiersStore.modTooltipData(a.id)),(0,g.jsx)(k,{id:a.id,cap:i,forceMax:0===n,qty:r,gen:a.gen,modTooltip:o},"population_"+a.id)}))})})})]}):(0,g.jsx)("div",{className:"flex justify-center my-6 text-lg",children:(0,g.jsx)("div",{className:"w-auto",children:(0,g.jsx)(u.Z,{text:(0,h.K)("population_empty"),type:"info"})})})})}}]),a}(o.Component),N=(0,d.f3)("MainStore")((0,d.Pi)(j))},2171:function(e,t,a){a.d(t,{Z:function(){return h}});var s=a(5671),n=a(3144),r=a(9340),i=a(2882),o=a(7313),d=a(8561),l=a.n(d),p=a(8966),c=a(6417),h=function(e){(0,r.Z)(a,e);var t=(0,i.Z)(a);function a(e){var n;return(0,s.Z)(this,a),(n=t.call(this,e)).decrease=function(e){e.currentTarget.blur(),n._decrease(n.state.step)},n.decreaseX=function(e){e.currentTarget.blur(),n._decrease(n.state.stepX)},n.increase=function(e){e.currentTarget.blur(),n._increase(n.state.step)},n.increaseX=function(e){e.currentTarget.blur(),n._increase(n.state.stepX)},n.state={value:n.props.value,min:0,max:n.props.max,forceMax:n.props.forceMax,step:1,stepX:9,minReached:n.props.value<=0,maxReached:n.props.value>=n.props.max||n.props.forceMax,disabled:"undefined"!==typeof n.props.disabled&&n.props.disabled},n}return(0,n.Z)(a,[{key:"componentDidUpdate",value:function(e){this.props.max===e.max&&this.props.forceMax===e.forceMax&&this.props.value===e.value&&this.props.disabled===e.disabled||this.setState({value:this.props.value,max:this.props.max,forceMax:this.props.forceMax,minReached:this.props.value<=0,maxReached:this.props.value>=this.props.max||this.props.forceMax,disabled:"undefined"!==typeof this.props.disabled&&this.props.disabled})}},{key:"_decrease",value:function(e){var t=!1,a=this.state.value-1;a<=this.state.min&&(a=this.state.min,t=!0),this.setState({value:a,minReached:t,maxReached:a>=this.state.max||this.state.forceMax}),this.props.onChange(a,"decrease",e)}},{key:"_increase",value:function(e){var t=!1,a=this.state.value+1;this.state.forceMax?(a=this.state.value,t=!0):a>=this.state.max&&(a=this.state.max,t=!0),this.setState({value:a,maxReached:t,minReached:a<=this.state.min}),this.props.onChange(a,"increase",e)}},{key:"render",value:function(){var e="btn shadow-none px-2.5 w-min",t=e;e+=" rounded-none lg:rounded-xl lg:rounded-r-none",t+=" lg:hidden rounded-xl rounded-r-none",this.state.minReached||this.state.disabled?(e+=" btn-dark",t+=" btn-dark !border-r-transparent"):(e+=" btn-red",t+=" btn-red border-r-red-600 dark:border-r-red-700");var a="btn shadow-none px-2.5 w-min",s=a;return a+=" rounded-none lg:rounded-xl lg:rounded-l-none",s+=" lg:hidden rounded-xl rounded-l-none",this.state.maxReached||this.state.disabled?(a+=" btn-dark",s+=" btn-dark !border-l-transparent"):(a+=" btn-green",s+=" btn-green border-l-green-700"),(0,c.jsxs)("div",{className:"relative inline-flex min-w-full shadow-sm rounded-full "+(this.props.small?"px-4 lg:px-12 xl:px-0":"px-4 lg:px-12 2xl:px-0"),children:[(0,c.jsx)("button",{className:t,type:"button",onClick:this.decreaseX,disabled:this.state.minReached||this.state.disabled,children:(0,c.jsx)(l(),{path:p.UHA,className:"icon"})}),(0,c.jsxs)("button",{className:e,type:"button",onClick:this.decrease,disabled:this.state.minReached||this.state.disabled,children:[(0,c.jsx)(l(),{path:p.v5B,className:"icon lg:hidden"}),(0,c.jsx)(l(),{path:p.UHA,className:"icon hidden lg:block"})]}),(0,c.jsx)("input",{type:"text",className:"w-full text-center lg:text-sm text-gray-700 bg-gray-100 dark:text-mydark-50 dark:bg-mydark-400 border-y border-gray-400 dark:border-mydark-200",value:this.state.value+" / "+this.state.max,disabled:!0}),(0,c.jsxs)("button",{className:a,type:"button",onClick:this.increase,disabled:this.state.maxReached||this.state.disabled,children:[(0,c.jsx)(l(),{path:p.MUM,className:"icon lg:hidden"}),(0,c.jsx)(l(),{path:p.qX5,className:"icon hidden lg:block"})]}),(0,c.jsx)("button",{className:s,type:"button",onClick:this.increaseX,disabled:this.state.maxReached||this.state.disabled,children:(0,c.jsx)(l(),{path:p.qX5,className:"icon"})})]})}}]),a}(o.Component)}}]);