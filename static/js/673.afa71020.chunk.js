"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[673],{6673:(e,t,r)=>{r.r(t),r.d(t,{default:()=>ve});var n=r(9950),a=r(8232),l=r(9977),i=r(4090),s=r.n(i),o=r(2631),d=r(9135),c=r(8307),u=r(712);function p(e,t){let[r,a]=(0,n.useState)(e),l=(0,u.Y)(e);return(0,c.s)((()=>a(l.current)),[l,a,...t]),r}var x=r(5460),f=r(8064),b=r(4263),h=r(9318),g=r(9972),m=r(9917),v=r(1903);let y=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function S(e){var t,r;let n=null!=(t=e.innerText)?t:"",a=e.cloneNode(!0);if(!(a instanceof HTMLElement))return n;let l=!1;for(let s of a.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))s.remove(),l=!0;let i=l?null!=(r=a.innerText)?r:"":n;return y.test(i)&&(i=i.replace(y,"")),i}function j(e){let t=(0,n.useRef)(""),r=(0,n.useRef)("");return(0,b._)((()=>{let n=e.current;if(!n)return"";let a=n.innerText;if(t.current===a)return r.current;let l=function(e){let t=e.getAttribute("aria-label");if("string"==typeof t)return t.trim();let r=e.getAttribute("aria-labelledby");if(r){let e=r.split(" ").map((e=>{let t=document.getElementById(e);if(t){let e=t.getAttribute("aria-label");return"string"==typeof e?e.trim():S(t).trim()}return null})).filter(Boolean);if(e.length>0)return e.join(", ")}return S(e).trim()}(n).trim().toLowerCase();return t.current=a,r.current=l,l}))}function w(e){return[e.screenX,e.screenY]}function O(){let e=(0,n.useRef)([-1,-1]);return{wasMoved(t){let r=w(t);return(e.current[0]!==r[0]||e.current[1]!==r[1])&&(e.current=r,!0)},update(t){e.current=w(t)}}}var k=r(8136),N=r(3293),R=r(7797);var D,L=((D=L||{})[D.First=0]="First",D[D.Previous=1]="Previous",D[D.Next=2]="Next",D[D.Last=3]="Last",D[D.Specific=4]="Specific",D[D.Nothing=5]="Nothing",D);function P(e,t){let r=t.resolveItems();if(r.length<=0)return null;let n=t.resolveActiveIndex(),a=null!=n?n:-1;switch(e.focus){case 0:for(let e=0;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 1:for(let e=a-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 2:for(let e=a+1;e<r.length;++e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 3:for(let e=r.length-1;e>=0;--e)if(!t.resolveDisabled(r[e],e,r))return e;return n;case 4:for(let n=0;n<r.length;++n)if(t.resolveId(r[n],n,r)===e.id)return n;return n;case 5:return null;default:!function(e){throw new Error("Unexpected object: "+e)}(e)}}var T,_=r(2103),C=r(3322),I=r(1324),M=r(8057),F=r(7603),E=r(1102),A=r(2346),X=((T=X||{})[T.Open=0]="Open",T[T.Closed=1]="Closed",T),B=(e=>(e[e.Single=0]="Single",e[e.Multi=1]="Multi",e))(B||{}),Q=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(Q||{}),q=(e=>(e[e.OpenListbox=0]="OpenListbox",e[e.CloseListbox=1]="CloseListbox",e[e.GoToOption=2]="GoToOption",e[e.Search=3]="Search",e[e.ClearSearch=4]="ClearSearch",e[e.RegisterOption=5]="RegisterOption",e[e.UnregisterOption=6]="UnregisterOption",e[e.RegisterLabel=7]="RegisterLabel",e))(q||{});function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e=>e,r=null!==e.activeOptionIndex?e.options[e.activeOptionIndex]:null,n=(0,C.wl)(t(e.options.slice()),(e=>e.dataRef.current.domRef.current)),a=r?n.indexOf(r):null;return-1===a&&(a=null),{options:n,activeOptionIndex:a}}let W={1:e=>e.dataRef.current.disabled||1===e.listboxState?e:{...e,activeOptionIndex:null,listboxState:1},0(e){if(e.dataRef.current.disabled||0===e.listboxState)return e;let t=e.activeOptionIndex,{isSelected:r}=e.dataRef.current,n=e.options.findIndex((e=>r(e.dataRef.current.value)));return-1!==n&&(t=n),{...e,listboxState:0,activeOptionIndex:t}},2(e,t){var r;if(e.dataRef.current.disabled||1===e.listboxState)return e;let n=U(e),a=P(t,{resolveItems:()=>n.options,resolveActiveIndex:()=>n.activeOptionIndex,resolveId:e=>e.id,resolveDisabled:e=>e.dataRef.current.disabled});return{...e,...n,searchQuery:"",activeOptionIndex:a,activationTrigger:null!=(r=t.trigger)?r:1}},3:(e,t)=>{if(e.dataRef.current.disabled||1===e.listboxState)return e;let r=""!==e.searchQuery?0:1,n=e.searchQuery+t.value.toLowerCase(),a=(null!==e.activeOptionIndex?e.options.slice(e.activeOptionIndex+r).concat(e.options.slice(0,e.activeOptionIndex+r)):e.options).find((e=>{var t;return!e.dataRef.current.disabled&&(null==(t=e.dataRef.current.textValue)?void 0:t.startsWith(n))})),l=a?e.options.indexOf(a):-1;return-1===l||l===e.activeOptionIndex?{...e,searchQuery:n}:{...e,searchQuery:n,activeOptionIndex:l,activationTrigger:1}},4:e=>e.dataRef.current.disabled||1===e.listboxState||""===e.searchQuery?e:{...e,searchQuery:""},5:(e,t)=>{let r={id:t.id,dataRef:t.dataRef},n=U(e,(e=>[...e,r]));return null===e.activeOptionIndex&&e.dataRef.current.isSelected(t.dataRef.current.value)&&(n.activeOptionIndex=n.options.indexOf(r)),{...e,...n}},6:(e,t)=>{let r=U(e,(e=>{let r=e.findIndex((e=>e.id===t.id));return-1!==r&&e.splice(r,1),e}));return{...e,...r,activationTrigger:1}},7:(e,t)=>({...e,labelId:t.id})},Y=(0,n.createContext)(null);function V(e){let t=(0,n.useContext)(Y);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Listbox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,V),t}return t}Y.displayName="ListboxActionsContext";let z=(0,n.createContext)(null);function G(e){let t=(0,n.useContext)(z);if(null===t){let t=new Error("<".concat(e," /> is missing a parent <Listbox /> component."));throw Error.captureStackTrace&&Error.captureStackTrace(t,G),t}return t}function H(e,t){return(0,M.Y)(t.type,W,e,t)}z.displayName="ListboxDataContext";let K=n.Fragment;let Z=E.O5.RenderStrategy|E.O5.Static;let $=(0,E.FX)((function(e,t){let{value:r,defaultValue:a,form:l,name:i,onChange:s,by:o=((e,t)=>e===t),disabled:d=!1,horizontal:u=!1,multiple:p=!1,...h}=e;const m=u?"horizontal":"vertical";let y=(0,v.P)(t),[S=(p?[]:void 0),j]=(0,x.P)(r,s,a),[w,O]=(0,n.useReducer)(H,{dataRef:(0,n.createRef)(),listboxState:1,options:[],searchQuery:"",labelId:null,activeOptionIndex:null,activationTrigger:1}),R=(0,n.useRef)({static:!1,hold:!1}),D=(0,n.useRef)(null),P=(0,n.useRef)(null),T=(0,n.useRef)(null),_=(0,b._)("string"==typeof o?(e,t)=>{let r=o;return(null==e?void 0:e[r])===(null==t?void 0:t[r])}:o),F=(0,n.useCallback)((e=>(0,M.Y)(A.mode,{1:()=>S.some((t=>_(t,e))),0:()=>_(S,e)})),[S]),A=(0,n.useMemo)((()=>({...w,value:S,disabled:d,mode:p?1:0,orientation:m,compare:_,isSelected:F,optionsPropsRef:R,labelRef:D,buttonRef:P,optionsRef:T})),[S,d,p,w]);(0,c.s)((()=>{w.dataRef.current=A}),[A]),(0,g.j)([A.buttonRef,A.optionsRef],((e,t)=>{var r;O({type:1}),(0,C.Bm)(t,C.MZ.Loose)||(e.preventDefault(),null==(r=A.buttonRef.current)||r.focus())}),0===A.listboxState);let X=(0,n.useMemo)((()=>({open:0===A.listboxState,disabled:d,value:S})),[A,d,S]),B=(0,b._)((e=>{let t=A.options.find((t=>t.id===e));t&&Z(t.dataRef.current.value)})),Q=(0,b._)((()=>{if(null!==A.activeOptionIndex){let{dataRef:e,id:t}=A.options[A.activeOptionIndex];Z(e.current.value),O({type:2,focus:L.Specific,id:t})}})),q=(0,b._)((()=>O({type:0}))),U=(0,b._)((()=>O({type:1}))),W=(0,b._)(((e,t,r)=>e===L.Specific?O({type:2,focus:L.Specific,id:t,trigger:r}):O({type:2,focus:e,trigger:r}))),V=(0,b._)(((e,t)=>(O({type:5,id:e,dataRef:t}),()=>O({type:6,id:e})))),G=(0,b._)((e=>(O({type:7,id:e}),()=>O({type:7,id:null})))),Z=(0,b._)((e=>(0,M.Y)(A.mode,{0:()=>null==j?void 0:j(e),1(){let t=A.value.slice(),r=t.findIndex((t=>_(t,e)));return-1===r?t.push(e):t.splice(r,1),null==j?void 0:j(t)}}))),$=(0,b._)((e=>O({type:3,value:e}))),J=(0,b._)((()=>O({type:4}))),ee=(0,n.useMemo)((()=>({onChange:Z,registerOption:V,registerLabel:G,goToOption:W,closeListbox:U,openListbox:q,selectActiveOption:Q,selectOption:B,search:$,clearSearch:J})),[]),te={ref:y},re=(0,n.useRef)(null),ne=(0,f.L)();return(0,n.useEffect)((()=>{re.current&&void 0!==a&&ne.addEventListener(re.current,"reset",(()=>{null==j||j(a)}))}),[re,j]),n.createElement(Y.Provider,{value:ee},n.createElement(z.Provider,{value:A},n.createElement(N.El,{value:(0,M.Y)(A.listboxState,{0:N.Uw.Open,1:N.Uw.Closed})},null!=i&&null!=S&&(0,I.h)({[i]:S}).map(((e,t)=>{let[r,a]=e;return n.createElement(k.j,{features:k.O.Hidden,ref:0===t?e=>{var t;re.current=null!=(t=null==e?void 0:e.closest("form"))?t:null}:void 0,...(0,E.oE)({key:r,as:"input",type:"hidden",hidden:!0,readOnly:!0,form:l,disabled:d,name:r,value:a})})})),(0,E.XX)({ourProps:te,theirProps:h,slot:X,defaultTag:K,name:"Listbox"}))))})),J=(0,E.FX)((function(e,t){var r;let a=(0,h.B)(),{id:l="headlessui-listbox-button-".concat(a),...i}=e,s=G("Listbox.Button"),o=V("Listbox.Button"),d=(0,v.P)(s.buttonRef,t),c=(0,f.L)(),u=(0,b._)((e=>{switch(e.key){case A.D.Space:case A.D.Enter:case A.D.ArrowDown:e.preventDefault(),o.openListbox(),c.nextFrame((()=>{s.value||o.goToOption(L.First)}));break;case A.D.ArrowUp:e.preventDefault(),o.openListbox(),c.nextFrame((()=>{s.value||o.goToOption(L.Last)}))}})),x=(0,b._)((e=>{if(e.key===A.D.Space)e.preventDefault()})),g=(0,b._)((e=>{if((0,R.l)(e.currentTarget))return e.preventDefault();0===s.listboxState?(o.closeListbox(),c.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}))):(e.preventDefault(),o.openListbox())})),y=p((()=>{if(s.labelId)return[s.labelId,l].join(" ")}),[s.labelId,l]),S=(0,n.useMemo)((()=>({open:0===s.listboxState,disabled:s.disabled,value:s.value})),[s]),j={ref:d,id:l,type:(0,m.c)(e,s.buttonRef),"aria-haspopup":"listbox","aria-controls":null==(r=s.optionsRef.current)?void 0:r.id,"aria-expanded":0===s.listboxState,"aria-labelledby":y,disabled:s.disabled,onKeyDown:u,onKeyUp:x,onClick:g};return(0,E.XX)({ourProps:j,theirProps:i,slot:S,defaultTag:"button",name:"Listbox.Button"})})),ee=(0,E.FX)((function(e,t){let r=(0,h.B)(),{id:a="headlessui-listbox-label-".concat(r),...l}=e,i=G("Listbox.Label"),s=V("Listbox.Label"),o=(0,v.P)(i.labelRef,t);(0,c.s)((()=>s.registerLabel(a)),[a]);let d=(0,b._)((()=>{var e;return null==(e=i.buttonRef.current)?void 0:e.focus({preventScroll:!0})})),u=(0,n.useMemo)((()=>({open:0===i.listboxState,disabled:i.disabled})),[i]);return(0,E.XX)({ourProps:{ref:o,id:a,onClick:d},theirProps:l,slot:u,defaultTag:"label",name:"Listbox.Label"})})),te=(0,E.FX)((function(e,t){var r;let a=(0,h.B)(),{id:l="headlessui-listbox-options-".concat(a),...i}=e,s=G("Listbox.Options"),o=V("Listbox.Options"),d=(0,v.P)(s.optionsRef,t),c=(0,f.L)(),u=(0,f.L)(),x=(0,N.O_)(),g=null!==x?(x&N.Uw.Open)===N.Uw.Open:0===s.listboxState;(0,n.useEffect)((()=>{var e;let t=s.optionsRef.current;t&&0===s.listboxState&&t!==(null==(e=(0,F.T)(t))?void 0:e.activeElement)&&t.focus({preventScroll:!0})}),[s.listboxState,s.optionsRef]);let m=(0,b._)((e=>{switch(u.dispose(),e.key){case A.D.Space:if(""!==s.searchQuery)return e.preventDefault(),e.stopPropagation(),o.search(e.key);case A.D.Enter:if(e.preventDefault(),e.stopPropagation(),null!==s.activeOptionIndex){let{dataRef:e}=s.options[s.activeOptionIndex];o.onChange(e.current.value)}0===s.mode&&(o.closeListbox(),(0,_.e)().nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})})));break;case(0,M.Y)(s.orientation,{vertical:A.D.ArrowDown,horizontal:A.D.ArrowRight}):return e.preventDefault(),e.stopPropagation(),o.goToOption(L.Next);case(0,M.Y)(s.orientation,{vertical:A.D.ArrowUp,horizontal:A.D.ArrowLeft}):return e.preventDefault(),e.stopPropagation(),o.goToOption(L.Previous);case A.D.Home:case A.D.PageUp:return e.preventDefault(),e.stopPropagation(),o.goToOption(L.First);case A.D.End:case A.D.PageDown:return e.preventDefault(),e.stopPropagation(),o.goToOption(L.Last);case A.D.Escape:return e.preventDefault(),e.stopPropagation(),o.closeListbox(),c.nextFrame((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.focus({preventScroll:!0})}));case A.D.Tab:e.preventDefault(),e.stopPropagation();break;default:1===e.key.length&&(o.search(e.key),u.setTimeout((()=>o.clearSearch()),350))}})),y=p((()=>{var e;return null==(e=s.buttonRef.current)?void 0:e.id}),[s.buttonRef.current]),S=(0,n.useMemo)((()=>({open:0===s.listboxState})),[s]),j={"aria-activedescendant":null===s.activeOptionIndex||null==(r=s.options[s.activeOptionIndex])?void 0:r.id,"aria-multiselectable":1===s.mode||void 0,"aria-labelledby":y,"aria-orientation":s.orientation,id:l,onKeyDown:m,role:"listbox",tabIndex:0,ref:d};return(0,E.XX)({ourProps:j,theirProps:i,slot:S,defaultTag:"ul",features:Z,visible:g,name:"Listbox.Options"})})),re=(0,E.FX)((function(e,t){let r=(0,h.B)(),{id:a="headlessui-listbox-option-".concat(r),disabled:l=!1,value:i,...s}=e,o=G("Listbox.Option"),d=V("Listbox.Option"),p=null!==o.activeOptionIndex&&o.options[o.activeOptionIndex].id===a,x=o.isSelected(i),f=(0,n.useRef)(null),g=j(f),m=(0,u.Y)({disabled:l,value:i,domRef:f,get textValue(){return g()}}),y=(0,v.P)(t,f);(0,c.s)((()=>{if(0!==o.listboxState||!p||0===o.activationTrigger)return;let e=(0,_.e)();return e.requestAnimationFrame((()=>{var e,t;null==(t=null==(e=f.current)?void 0:e.scrollIntoView)||t.call(e,{block:"nearest"})})),e.dispose}),[f,p,o.listboxState,o.activationTrigger,o.activeOptionIndex]),(0,c.s)((()=>d.registerOption(a,m)),[m,a]);let S=(0,b._)((e=>{if(l)return e.preventDefault();d.onChange(i),0===o.mode&&(d.closeListbox(),(0,_.e)().nextFrame((()=>{var e;return null==(e=o.buttonRef.current)?void 0:e.focus({preventScroll:!0})})))})),w=(0,b._)((()=>{if(l)return d.goToOption(L.Nothing);d.goToOption(L.Specific,a)})),k=O(),N=(0,b._)((e=>k.update(e))),R=(0,b._)((e=>{k.wasMoved(e)&&(l||p||d.goToOption(L.Specific,a,0))})),D=(0,b._)((e=>{k.wasMoved(e)&&(l||p&&d.goToOption(L.Nothing))})),P=(0,n.useMemo)((()=>({active:p,selected:x,disabled:l})),[p,x,l]);return(0,E.XX)({ourProps:{id:a,ref:y,role:"option",tabIndex:!0===l?void 0:-1,"aria-disabled":!0===l||void 0,"aria-selected":x,disabled:void 0,onClick:S,onFocus:w,onPointerEnter:N,onMouseEnter:N,onPointerMove:R,onMouseMove:R,onPointerLeave:D,onMouseLeave:D},theirProps:s,slot:P,defaultTag:"li",name:"Listbox.Option"})})),ne=Object.assign($,{Button:J,Label:ee,Options:te,Option:re});var ae=r(2094);const le=n.forwardRef((function(e,t){let{title:r,titleId:a,...l}=e;return n.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},l),r?n.createElement("title",{id:a},r):null,n.createElement("path",{fillRule:"evenodd",d:"M10.53 3.47a.75.75 0 0 0-1.06 0L6.22 6.72a.75.75 0 0 0 1.06 1.06L10 5.06l2.72 2.72a.75.75 0 1 0 1.06-1.06l-3.25-3.25Zm-4.31 9.81 3.25 3.25a.75.75 0 0 0 1.06 0l3.25-3.25a.75.75 0 1 0-1.06-1.06L10 14.94l-2.72-2.72a.75.75 0 0 0-1.06 1.06Z",clipRule:"evenodd"}))}));var ie=r(443),se=r(4414);class oe extends n.Component{render(){return(0,se.jsx)(ne,{value:this.props.selected,onChange:this.props.onChange,children:(0,se.jsxs)("div",{className:"",children:[(0,se.jsxs)(ne.Button,{className:"relative w-full cursor-default rounded-lg py-2 pl-1 pr-10 text-center text-sm 3xl:text-base whitespace-nowrap",children:[(0,se.jsx)("span",{className:"block truncate",children:(0,ie.v)(this.props.prefix+"_"+this.props.selected)}),(0,se.jsx)("span",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center pr-2",children:(0,se.jsx)(le,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),(0,se.jsx)(ae.e,{as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:(0,se.jsx)(ne.Options,{className:"absolute z-10 max-h-60 min-w-40 w-auto overflow-auto rounded-md bg-gray-200 dark:bg-mydark-300 py-1 shadow-lg focus:outline-none border border-gray-400 dark:border-mydark-200",children:this.props.options.map((e=>(0,se.jsx)(ne.Option,{className:e=>{let{active:t}=e;return"relative cursor-default select-none py-4 xl:py-2 px-4 ".concat(t?"bg-gray-300 dark:bg-mydark-700 text-ancestor":"")},value:e,children:()=>(0,se.jsx)("span",{className:"block truncate",children:(0,ie.v)(this.props.prefix+"_"+e)})},"select-"+e)))})})]})})}}const de=oe;var ce=r(5970);class ue extends n.Component{constructor(){super(...arguments),this.handleToggleSpell=()=>{this.props.MainStore.MagicStore.toggleSpell(this.props.id)}}render(){const{mana:e}=this.props.MainStore.ResourcesStore;return(0,se.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col "+(this.props.active?" border-green-500 dark:border-green-700":""),children:[(0,se.jsxs)("div",{className:"flex-1 text-center relative",children:[(0,se.jsx)("h5",{className:"font-bold whitespace-nowrap inline "+(this.props.active?" !text-green-600 dark:!text-green-500":""),children:(0,ie.v)("fai_"+this.props.id)}),(0,se.jsx)("div",{className:"my-4",children:(0,se.jsx)("div",{className:"rounded border border-gray-300 dark:border-gray-700 overflow-hidden",children:this.props.gen.map(((e,t)=>{const r=t%2===0;return"resource"===e.type?(0,se.jsxs)("div",{className:(0,ce.xW)("flex items-center justify-between px-2 py-1 text-sm",r?"bg-gray-200 dark:bg-mydark-300/5":"bg-gray-200/5 dark:bg-mydark-300",""),children:[(0,se.jsx)("span",{className:"whitespace-nowrap",children:(0,ie.v)("res_"+e.id)}),(0,se.jsxs)("span",{className:(0,ce.xW)(e.value<0?"text-red-600":"","font-medium ml-2"),children:[e.value>0?"+":"",e.value.toLocaleString(),e.perc?"%":"/s"]})]},this.props.id+"_spell_"+t):"army"===e.type_id?(0,se.jsxs)("div",{className:(0,ce.xW)("flex items-center justify-between px-2 py-1 text-sm",r?"bg-gray-200 dark:bg-mydark-300/5":"bg-gray-200/5 dark:bg-mydark-300",""),children:[(0,se.jsxs)("span",{className:"whitespace-nowrap",children:[(0,ie.v)("uni_"+e.id)," ",(0,ie.v)(e.gen).toLowerCase()]}),(0,se.jsxs)("span",{className:(0,ce.xW)(e.value<0?"text-red-600":"","font-medium ml-2"),children:["+",e.value.toLocaleString()]})]},this.props.id+"_spell_"+t):null}))})})]}),(0,se.jsx)("div",{className:"text-center px-12 xl:px-0",children:this.props.active?(0,se.jsxs)("button",{type:"button",className:"btn btn-dark",onClick:this.handleToggleSpell,children:[(0,se.jsx)(s(),{path:o.dwL,className:"icon mr-1 lg:mt-[1px]"}),(0,ie.v)("fai_spell_cancel")]}):(0,se.jsxs)("button",{type:"button",className:"btn btn-green "+(e<=0?" btn-off border-green-500 dark:border-green-700":""),onClick:this.handleToggleSpell,children:["resource"===this.props.category?(0,se.jsx)(s(),{path:o.aD$,className:"icon mr-1 lg:mt-[1px]"}):"army"===this.props.category?(0,se.jsx)(s(),{path:o.mSZ,className:"icon mr-1 lg:mt-[1px]"}):"defense"===this.props.category?(0,se.jsx)(s(),{path:o.wgn,className:"icon mr-1 lg:mt-[1px]"}):(0,se.jsx)(s(),{path:o._r5,className:"icon mr-1 lg:mt-[1px]"}),(0,ie.v)("fai_spell_accept")]})})]})}}const pe=(0,a.WQ)("MainStore")((0,a.PA)(ue));var xe=r(1377),fe=r(346),be=r(2073);class he extends n.Component{constructor(e){super(e),this.handleAdd=()=>{this.props.sD?this.props.MainStore.MagicStore.addPrayer(this.props.id):!this.state.progress&&this.props.buildable&&(this.setState({progress:!0}),setTimeout((()=>{this.props.MainStore.MagicStore.addPrayer(this.props.id)}),3e3))},this.state={progress:!1}}render(){const e=this.props.MainStore.ReqGenStore.reqTooltipData("prayer",this.props.req),t=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);let r="btn btn-dark";return this.props.owned?r+=" btn-off btn-cap":this.props.buildable?this.state.progress&&(r+=" btn-progress"):r+=" btn-off",(0,se.jsx)("div",{className:"flex flex-col",children:(0,se.jsx)(fe.l,{content:(0,se.jsx)(be.A,{id:this.props.id,title:(0,ie.v)("fai_"+this.props.id),description:(0,ie.v)("fai_"+this.props.id+"_description"),owned:this.props.owned,reqTooltipData:e,genTooltipData:t,prefix:"pray"}),className:"!max-w-[260px]",touch:["hold",500],placement:xe.Fr?"top":"bottom",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right","left"]}}]},children:(0,se.jsx)("button",{type:"button",className:r,onClick:this.handleAdd,children:(0,ie.v)("fai_"+this.props.id)})})})}}const ge=(0,a.WQ)("MainStore")((0,a.PA)(he));class me extends n.Component{constructor(){super(...arguments),this.selectSpellChange=e=>{this.props.MainStore.MagicStore.setFilterSpells(e)},this.handleSelect=e=>{this.props.MainStore.MagicStore.selectTab(e)}}render(){const{sD:e}=this.props.MainStore,{visiblePrayers:t,buildablePrayers:r,ownedPrayers:n,visibleSpells:a,selectedTab:i,spellFilters:c,filterSpells:u}=this.props.MainStore.MagicStore;let p="inline-flex justify-center rounded-full border shadow-sm text-sm whitespace-nowrap border-gray-400 dark:border-gray-500";const x=p;p+=" px-3 py-2",p+=" xl:block xl:rounded-none xl:border-0 xl:shadow-none lg:px-2 xl:border-transparent xl:dark:border-transparent",p+=" xl:border-b-2 xl:m-[-1px] 4xl:px-6 3xl:text-base";const f="!border-ancestor text-ancestor",b="xl:border-transparent text-gray-500 hover:text-gray-700 dark:hover:text-mydark-50 hover:border-gray-400 dark:hover:border-gray-500";return(0,se.jsxs)(l.o.Group,{selectedIndex:i,onChange:this.handleSelect,children:[0===i&&n.length>0?(0,se.jsxs)("div",{className:"absolute ml-2 w-40 hidden xl:flex",children:[(0,se.jsx)(s(),{path:o.jVN,className:"icon opacity-60"}),(0,se.jsx)(de,{options:c,prefix:"spells",selected:u,onChange:this.selectSpellChange})]}):null,(0,se.jsx)("div",{className:"mx-auto border-b border-gray-300 dark:border-mydark-200 flex justify-center mt-1 xl:mt-0",children:(0,se.jsxs)(l.o.List,{className:"grid grid-cols-2 gap-3 my-2 mb-3 lg:flex lg:gap-1 lg:mt-0 lg:mb-1 xl:mb-0 2xl:gap-3",children:[(0,se.jsxs)(l.o,{className:e=>{let{selected:t}=e;return(0,ce.xW)(p,t?f:b)},children:[(0,se.jsx)(s(),{path:o.NKH,className:"icon inline 3xl:-mt-1 mr-1"}),(0,ie.v)("spells")]}),(0,se.jsxs)(l.o,{className:e=>{let{selected:t}=e;return(0,ce.xW)(p,t?f:b)},children:[(0,se.jsx)(s(),{path:o.f0s,className:"icon inline 3xl:-mt-1 mr-1"}),(0,ie.v)("prayers"),t.length>0?(0,se.jsx)("span",{className:"inline-block ml-2 py-px px-2 rounded-full font-bold text-xs bg-gray-300 text-gray-600 dark:bg-mydark-200 dark:text-mydark-50",children:t.length}):null]}),(0,se.jsxs)(l.o,{className:e=>{let{selected:t}=e;return(0,ce.xW)(p,t?f:b)},children:[(0,se.jsx)(s(),{path:o.o0C,className:"icon inline lg:-mt-1 mr-1"}),(0,ie.v)("completed")]})]})}),(0,se.jsxs)(l.o.Panels,{children:[(0,se.jsxs)(l.o.Panel,{children:[n.length>0?(0,se.jsx)("div",{className:"my-3 w-full flex justify-center xl:hidden",children:(0,se.jsxs)("div",{className:x+" pl-3 pr-1",children:[(0,se.jsx)(s(),{path:o.jVN,className:"icon opacity-60"}),(0,se.jsx)(de,{options:c,prefix:"spells",selected:u,onChange:this.selectSpellChange})]})}):null,a.length>0?(0,se.jsx)("div",{className:"tab-container sub-container",children:(0,se.jsx)("div",{className:"flex flex-wrap min-w-full xl:mt-3",children:(0,se.jsx)("div",{className:"grid gap-3 grid-cols-fill-270 min-w-full",children:a.map((e=>{const t=this.props.MainStore.MagicStore.activeSpell(e.id);return(0,se.jsx)(pe,{id:e.id,active:t,gen:e.gen,category:e.cat},"fai_"+e.id)}))})})}):null,0===a.length?(0,se.jsx)("div",{className:"flex justify-center my-6 text-lg",children:(0,se.jsx)("div",{className:"min-w-[40%] w-auto",children:(0,se.jsx)(d.A,{text:(0,ie.v)("spells_empty"),type:"info"})})}):null]}),(0,se.jsxs)(l.o.Panel,{children:[t.length>0?(0,se.jsx)("div",{className:"tab-container sub-container",children:(0,se.jsx)("div",{className:"flex flex-wrap min-w-full mt-3 p-3 shadow rounded-lg ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:(0,se.jsx)("div",{className:"grid gap-3 grid-cols-fill-180 min-w-full px-12 xl:px-0",children:t.map((t=>{const n=-1!==r.findIndex((e=>e.id===t.id));return(0,se.jsx)(ge,{id:t.id,buildable:n,req:t.req,gen:t.gen,sD:e},"fai_"+t.id)}))})})}):null,0===t.length?(0,se.jsx)("div",{className:"flex justify-center my-6 text-lg",children:(0,se.jsx)("div",{className:"min-w-[40%] w-auto",children:(0,se.jsx)(d.A,{text:(0,ie.v)("prayer_empty"),type:"info"})})}):null]}),(0,se.jsxs)(l.o.Panel,{children:[n.length>0?(0,se.jsx)("div",{className:"tab-container sub-container",children:(0,se.jsx)("div",{className:"flex flex-wrap min-w-full mt-3 p-3 shadow rounded-lg ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:(0,se.jsx)("div",{className:"grid gap-3 grid-cols-fill-180 min-w-full px-12 xl:px-0",children:n.map((t=>(0,se.jsx)(ge,{id:t.id,buildable:!1,req:t.req,gen:t.gen,sD:e,owned:!0},"fai_"+t.id)))})})}):null,0===n.length?(0,se.jsx)("div",{className:"flex justify-center my-6 text-lg",children:(0,se.jsx)("div",{className:"min-w-[40%] w-auto",children:(0,se.jsx)(d.A,{text:(0,ie.v)("prayer_empty"),type:"info"})})}):null]})]})]})}}const ve=(0,a.WQ)("MainStore")((0,a.PA)(me))}}]);