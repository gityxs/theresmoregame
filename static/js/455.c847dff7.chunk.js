"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[455],{4455:(e,s,t)=>{t.r(s),t.d(s,{default:()=>x});var a=t(9950),r=t(8232),o=t(2094),l=t(4537),n=t(341),i=t(2823),d=t(9135),c=t(443),m=t(4414);class h extends a.Component{constructor(){super(...arguments),this.handleDonate=e=>{e.stopPropagation(),e.currentTarget.blur();let s=1;"shift"===this.props.MainStore.keyPress?s+=4:"ctrl"===this.props.MainStore.keyPress&&(s+=9),this.props.MainStore.LegacyStore.donateMausoleum(this.props.id,s,!1)},this.handleDonateAll=e=>{e.stopPropagation(),e.currentTarget.blur(),this.props.MainStore.LegacyStore.donateMausoleum(this.props.id,0,!0)}}render(){const e=this.props.owned>0&&this.props.total<1e6?"btn btn-green":"btn btn-dark btn-off",s=this.props.owned>0&&this.props.total<1e6?"btn btn-red ml-2":"btn btn-dark btn-off ml-2";return(0,m.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,m.jsxs)("div",{className:"flex-1 text-center",children:[(0,m.jsx)("h5",{className:"font-bold",children:(0,c.v)("res_"+this.props.id)}),(0,m.jsx)("table",{className:"min-w-[60%] mx-auto my-4",children:(0,m.jsx)("tbody",{className:"text-sm",children:(0,m.jsxs)("tr",{className:"bg-gray-200 dark:bg-mydark-200/50",children:[(0,m.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,c.v)("mausoleum_donation_value")}),(0,m.jsx)("td",{className:"text-right px-4 py-1",children:(Math.round(100*this.props.value)/100).toLocaleString("default",{minimumFractionDigits:1,maximumFractionDigits:1})})]})})})]}),(0,m.jsxs)("div",{className:"w-full text-center flex lg:block",children:[(0,m.jsx)("button",{type:"button",className:e,onClick:e=>this.handleDonate(e),disabled:this.props.owned<=0||this.props.total>=1e6,children:(0,c.v)("donate")}),(0,m.jsx)("button",{type:"button",className:s,onClick:e=>this.handleDonateAll(e),disabled:this.props.owned<=0||this.props.total>=1e6,children:(0,c.v)("donate_all")})]})]})}}const p=(0,r.WQ)("MainStore")((0,r.PA)(h));class u extends a.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.MainStore.LegacyStore.toggleMausoleum()}}render(){const{donation:e}=this.props.MainStore.run,{showMausoleum:s,mausoleumResources:t}=this.props.MainStore.LegacyStore,r=100*e/1e6;return(0,m.jsx)(o.e.Root,{show:s,as:a.Fragment,children:(0,m.jsxs)(l.l,{as:"div",className:"relative z-50",onClose:this.handleClose,children:[(0,m.jsx)(i.A,{}),(0,m.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,m.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center lg:p-0",children:(0,m.jsx)(o.e.Child,{as:a.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,m.jsxs)(l.l.Panel,{className:"modal-container lg:my-8 lg:max-w-4xl lg:pt-6",children:[(0,m.jsx)(n.A,{onClick:this.handleClose}),(0,m.jsx)("div",{children:(0,m.jsxs)("div",{className:"mt-0",children:[(0,m.jsx)(l.l.Title,{as:"h3",className:"modal-title",children:(0,c.v)("bui_mausoleum_gods")}),(0,m.jsx)("div",{className:"flex flex-col m-6",children:(0,m.jsx)(d.A,{text:(0,c.v)("mausoleum_description"),type:"info",mobileIcon:!1})}),(0,m.jsx)("div",{className:"grid gap-3 lg:grid-cols-3 min-w-full my-6 px-6",children:t.map((s=>{const t=this.props.MainStore.ResourcesStore.resourceValue(s.id);return(0,m.jsx)(p,{id:s.id,value:s.value,owned:t,total:e},"mausoleum_"+s.id)}))}),(0,m.jsxs)("h3",{className:"text-center text-3xl font-bold",children:[(0,c.v)("mausoleum_donation_total"),": ",e.toLocaleString(void 0,{maximumFractionDigits:2})]}),(0,m.jsx)("div",{className:"relative m-6",children:(0,m.jsx)("div",{className:"overflow-hidden h-4 mt-2 mb-3 flex rounded-full bg-gray-100 dark:bg-mydark-500 border border-gray-300 dark:border-mydark-200",children:(0,m.jsx)("div",{style:{width:r+"%"},className:"flex flex-col bg-green-600 dark:bg-green-700"})})})]})})]})})})})]})})}}const x=(0,r.WQ)("MainStore")((0,r.PA)(u))}}]);