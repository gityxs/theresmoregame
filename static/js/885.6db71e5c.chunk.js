"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[885],{4885:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var r=a(5671),s=a(3144),n=a(9340),o=a(2882),l=a(7313),i=a(2126),d=a(7794),c=a(4254),u=a(1048),m=a(6934),h=a(1231),p=a(8982),x=a(6417),f=function(e){(0,n.Z)(a,e);var t=(0,o.Z)(a);function a(){var e;(0,r.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleDonate=function(t){t.stopPropagation(),t.currentTarget.blur();var a=1;"shift"===e.props.MainStore.keyPress?a+=4:"ctrl"===e.props.MainStore.keyPress&&(a+=9),e.props.MainStore.LegacyStore.donateMausoleum(e.props.id,a,!1)},e.handleDonateAll=function(t){t.stopPropagation(),t.currentTarget.blur(),e.props.MainStore.LegacyStore.donateMausoleum(e.props.id,0,!0)},e}return(0,s.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.owned>0&&this.props.total<1e6?"btn btn-green":"btn btn-dark btn-off",a=this.props.owned>0&&this.props.total<1e6?"btn btn-red ml-2":"btn btn-dark btn-off ml-2";return(0,x.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,x.jsxs)("div",{className:"flex-1 text-center",children:[(0,x.jsx)("h5",{className:"font-bold",children:(0,p.K)("res_"+this.props.id)}),(0,x.jsx)("table",{className:"min-w-[60%] mx-auto my-4",children:(0,x.jsx)("tbody",{className:"text-sm",children:(0,x.jsxs)("tr",{className:"bg-gray-200 dark:bg-mydark-200/50",children:[(0,x.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,p.K)("mausoleum_donation_value")}),(0,x.jsx)("td",{className:"text-right px-4 py-1",children:(Math.round(100*this.props.value)/100).toLocaleString("default",{minimumFractionDigits:1,maximumFractionDigits:1})})]})})})]}),(0,x.jsxs)("div",{className:"w-full text-center flex lg:block",children:[(0,x.jsx)("button",{type:"button",className:t,onClick:function(t){return e.handleDonate(t)},disabled:this.props.owned<=0||this.props.total>=1e6,children:(0,p.K)("donate")}),(0,x.jsx)("button",{type:"button",className:a,onClick:function(t){return e.handleDonateAll(t)},disabled:this.props.owned<=0||this.props.total>=1e6,children:(0,p.K)("donate_all")})]})]})}}]),a}(l.Component),g=(0,i.f3)("MainStore")((0,i.Pi)(f)),b=function(e){(0,n.Z)(a,e);var t=(0,o.Z)(a);function a(){var e;(0,r.Z)(this,a);for(var s=arguments.length,n=new Array(s),o=0;o<s;o++)n[o]=arguments[o];return(e=t.call.apply(t,[this].concat(n))).handleClose=function(){e.props.MainStore.LegacyStore.toggleMausoleum()},e}return(0,s.Z)(a,[{key:"render",value:function(){var e=this,t=this.props.MainStore.run.donation,a=this.props.MainStore.LegacyStore,r=a.showMausoleum,s=a.mausoleumResources,n=100*t/1e6;return(0,x.jsx)(d.u.Root,{show:r,as:l.Fragment,children:(0,x.jsxs)(c.V,{as:"div",className:"relative z-50",onClose:this.handleClose,children:[(0,x.jsx)(m.Z,{}),(0,x.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,x.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center lg:p-0",children:(0,x.jsx)(d.u.Child,{as:l.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,x.jsxs)(c.V.Panel,{className:"modal-container lg:my-8 lg:max-w-4xl lg:pt-6",children:[(0,x.jsx)(u.Z,{onClick:this.handleClose}),(0,x.jsx)("div",{children:(0,x.jsxs)("div",{className:"mt-0",children:[(0,x.jsx)(c.V.Title,{as:"h3",className:"modal-title",children:(0,p.K)("bui_mausoleum_gods")}),(0,x.jsx)("div",{className:"flex flex-col m-6",children:(0,x.jsx)(h.Z,{text:(0,p.K)("mausoleum_description"),type:"info",mobileIcon:!1})}),(0,x.jsx)("div",{className:"grid gap-3 lg:grid-cols-3 min-w-full my-6 px-6",children:s.map((function(a){var r=e.props.MainStore.ResourcesStore.resourceValue(a.id);return(0,x.jsx)(g,{id:a.id,value:a.value,owned:r,total:t},"mausoleum_"+a.id)}))}),(0,x.jsxs)("h3",{className:"text-center text-3xl font-bold",children:[(0,p.K)("mausoleum_donation_total"),": ",t.toLocaleString(void 0,{maximumFractionDigits:2})]}),(0,x.jsx)("div",{className:"relative m-6",children:(0,x.jsx)("div",{className:"overflow-hidden h-4 mt-2 mb-3 flex rounded-full bg-gray-100 dark:bg-mydark-500 border border-gray-300 dark:border-mydark-200",children:(0,x.jsx)("div",{style:{width:n+"%"},className:"flex flex-col bg-green-600 dark:bg-green-700"})})})]})})]})})})})]})})}}]),a}(l.Component),y=(0,i.f3)("MainStore")((0,i.Pi)(b))}}]);