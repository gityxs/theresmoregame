"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[51],{8051:(e,t,s)=>{s.r(t),s.d(t,{default:()=>y});var r=s(9950),a=s(8232),l=s(2094),i=s(4537),o=s(341),n=s(2823),d=s(9135),c=s(443),p=s(6971),h=s(1377),m=s(346),x=s(2073),g=s(4414);class b extends r.Component{constructor(){super(...arguments),this.handleAdd=()=>{this.props.owned||!this.props.buildable&&!this.props.selected||this.props.MainStore.LegacyStore.selectLegacy(this.props.id)}}render(){const e=this.props.MainStore.ReqGenStore.reqTooltipData("legacy",this.props.req),t=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);let s="btn btn-dark";return this.props.owned?s+=" btn-off btn-cap":this.props.selected?s+=" !text-white !bg-blue-600 hover:!bg-blue-700 focus:!bg-blue-800 !border-transparent":this.props.buildable||(s+=" btn-off"),(0,g.jsx)("div",{className:"flex flex-col",children:(0,g.jsx)(m.l,{content:(0,g.jsx)(x.A,{id:this.props.id,title:(0,c.v)("leg_"+this.props.id),description:(0,c.v)("leg_"+this.props.id+"_description"),owned:this.props.owned,reqTooltipData:e,genTooltipData:t,prefix:"leg"}),className:"!max-w-[300px]",touch:["hold",500],placement:h.Fr?"top":"bottom",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right","left"]}}]},children:(0,g.jsx)("button",{type:"button",className:s,onClick:this.handleAdd,children:(0,g.jsx)("div",{className:"text-truncate",children:(0,c.v)("leg_"+this.props.id)})})})})}}const f=(0,a.WQ)("MainStore")((0,a.PA)(b));class k extends r.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.MainStore.LegacyStore.toggleSoftReset()},this.handleSoftReset1=()=>{this.props.MainStore.showConfirm("(1/3)","soft_reset_confirm_1",this.handleSoftReset2)},this.handleSoftReset2=()=>{this.props.MainStore.showConfirm("(2/3)","soft_reset_confirm_2",this.handleSoftReset3)},this.handleSoftReset3=()=>{this.props.MainStore.showConfirm("(3/3)","soft_reset_confirm_3",this.handleSoftReset)},this.handleSoftReset=()=>{this.props.MainStore.confirmCancelFunc(),this.props.MainStore.softReset()}}render(){const{softResetInProgress:e}=this.props.MainStore,{flag:t,flagb:s}=this.props.MainStore.run,{softResetTitle:a,softResetDescription:h,softResetPreDescription:m,showSoftReset:x,legacies:b,buildableLegacies:k,ownedLegacies:y,selectedLegacies:j,legacyAvailable:u}=this.props.MainStore.LegacyStore,{relic:v,tome_wisdom:N,coin:A,gem:S,titan_gift:w,light:_}=this.props.MainStore.ResourcesStore;let R="btn btn-red px-6";R+=" hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700";const C=!(e||2===t||2===s);return(0,g.jsx)(l.e.Root,{show:x,as:r.Fragment,children:(0,g.jsxs)(i.l,{as:"div",className:"relative z-50",onClose:C?this.handleClose:()=>null,static:C,children:[(0,g.jsx)(n.A,{}),(0,g.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,g.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center lg:p-0",children:(0,g.jsx)(l.e.Child,{as:r.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,g.jsxs)(i.l.Panel,{className:"modal-container lg:my-8 lg:max-w-4xl lg:pt-6",children:[C?(0,g.jsx)(o.A,{onClick:this.handleClose}):null,(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"mt-0",children:[(0,g.jsx)(i.l.Title,{as:"h3",className:"modal-title",children:a}),e?(0,g.jsx)("div",{className:"px-4 pb-4 lg:px-6 lg:pb-6 mt-6 font-game",children:(0,g.jsx)(d.A,{text:(0,c.v)("soft_reset_in_progress")+" . . .",type:"info"})}):(0,g.jsxs)(g.Fragment,{children:[m.length>0?(0,g.jsx)("div",{className:"flex flex-col m-6 text-xl font-bold leading-10",children:(0,g.jsx)(d.A,{text:m.join(" "),type:2===t||2===s?"war":"victory"})}):null,(0,g.jsx)("div",{className:"flex flex-col m-6",children:(0,g.jsx)(d.A,{text:h,type:"info",mobileIcon:!1})}),(0,g.jsxs)("h3",{className:"text-center text-3xl font-bold",children:[(0,c.v)("legacy_points"),": ",u.toLocaleString()]}),v>0||A>0||N>0||S>0||w>0||_>0?(0,g.jsx)("table",{className:"mt-4 w-1/5 mx-auto",children:(0,g.jsxs)("tbody",{className:"bg-gray-300 dark:bg-mydark-600 text-sm",children:[v>0?(0,g.jsxs)("tr",{className:"bg-orange-500/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-orange-800 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_relic")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:v})]},"res_tr_relic"):null,A>0?(0,g.jsxs)("tr",{className:"bg-amber-400/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-amber-600 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_coin")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:A})]},"res_tr_coin"):null,N>0?(0,g.jsxs)("tr",{className:"bg-gray-500/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-gray-600 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_tome_wisdom")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:N})]},"res_tr_wisdom"):null,S>0?(0,g.jsxs)("tr",{className:"bg-sky-400/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-sky-800 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_gem")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:S})]},"res_tr_gem"):null,w>0?(0,g.jsxs)("tr",{className:"bg-indigo-400/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-indigo-800 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_titan_gift")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:w})]},"res_tr_titan"):null,_>0?(0,g.jsxs)("tr",{className:"bg-gray-200/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-gray-400 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:(0,c.v)("res_light")}),(0,g.jsx)("td",{className:"px-4 py-1 text-right",children:_})]},"res_tr_light"):null]})}):null,b.length>0?(0,g.jsx)("div",{className:"p-6",children:(0,g.jsx)("div",{className:"flex flex-wrap min-w-full p-3 shadow rounded-lg lg:ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:(0,g.jsx)("div",{className:"grid gap-3 grid-cols-fill-180 min-w-full",children:b.map((e=>{let t=k.findIndex((t=>t.id===e.id));const s=-1!==t;t=y.findIndex((t=>t.id===e.id));const r=-1!==t,a=j.includes(e.id);return(0,g.jsx)(f,{id:e.id,buildable:s,owned:r,selected:a,req:e.req,gen:e.gen},"leg_"+e.id)}))})})}):null,(0,g.jsx)("div",{className:"text-center mb-6 px-9 lg:px-0"+(b.length>0?"":" mt-6"),children:(0,g.jsxs)("button",{type:"button",className:"btn btn-red px-6 hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700",onClick:this.handleSoftReset1,children:[(0,g.jsx)("img",{src:p,style:{width:"19px",height:"19px"},className:"icon mr-2 mt-[2px] lg:mt-[1px]",alt:""}),(0,c.v)("prestige")]})})]})]})})]})})})})]})})}}const y=(0,a.WQ)("MainStore")((0,a.PA)(k))},6971:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAABkUlEQVQ4y4WUP0tcURDFz13btVpjskQLS4uUNkKIol/AtPsZbLVVRMIWIhauKNjtx0hv8E+pCLLKCm7IYpNiBTH6S+G5cL28t04zb86cOTP335MSA4L9J2ATOAMGvNqD402grmGWCO3x1i6AU/vU9tO6N0JABeiYeA18LWk6B3TNu3NtyCeKQjtJYQWoGv+Sie4Yv8m7tZxo5aMD/WRpo7GJ/bbxvUj+aOA+Jfr7ONun+yQ3Yv/HuQ8VScvOtyLPpLakmRjbasCZJIUQno0d2K8IOLHyt6TrqrGXbLIYtxPugrEjAX8dzDvZKBHI7Yf5i477FUlVN4lXIUhqSPouqeM42qOkJeevjM3aj6WT9Qru1FE2zaCAc5tOdmm8DjQzbnjn1axJmnR4JWDdys/2Gwn5V9lkwFq2p00B4wkYE+fAdJkYMOn4X5KrxS67Jaf3UiI2kYnt5uu/K7gS74kB/I4a8Y2FEMJnSd1s84cegKReCKFe+BsqWHJuT+ZMAYeF/7OCI68BW75nPS+3D/wcVvcf9jL/QoHkFSUAAAAASUVORK5CYII="}}]);