"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[803],{3803:function(e,t,r){r.r(t),r.d(t,{default:function(){return M}});var s=r(5671),n=r(3144),o=r(7326),i=r(136),l=r(7277),a=r(7313),d=r(4793),c=r(2126),u=r(5163).u,p=r(7414).D,h=r(2045).h,b=r(8223).w,f=r(6255).x,m=r(8982),g=r(4303),x=r(4862),y=r(7914),k=r(8519),v=r(6417),j=function(e){(0,i.Z)(r,e);var t=(0,l.Z)(r);function r(){var e;(0,s.Z)(this,r);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return(e=t.call.apply(t,[this].concat(o))).handleSell=function(t){t.stopPropagation(),x.tq||t.currentTarget.blur();var r=1;"shift"===e.props.MainStore.keyPress?r+=4:"ctrl"===e.props.MainStore.keyPress&&(r+=9);for(var s=0;s<r;s++)e.props.MainStore.MarketStore.sell(e.props.id)},e.handleSellX=function(t){t.stopPropagation(),x.tq||t.currentTarget.blur();for(var r=0;r<10;r++)e.props.MainStore.MarketStore.sell(e.props.id)},e.handleBuy=function(t){t.stopPropagation(),x.tq||t.currentTarget.blur();var r=1;"shift"===e.props.MainStore.keyPress?r+=4:"ctrl"===e.props.MainStore.keyPress&&(r+=9);for(var s=0;s<r;s++)e.props.MainStore.MarketStore.buy(e.props.id)},e.handleBuyX=function(t){t.stopPropagation(),x.tq||t.currentTarget.blur();for(var r=0;r<10;r++)e.props.MainStore.MarketStore.buy(e.props.id)},e.handleClick=function(){e.props.onClick(e.props.id)},e}return(0,n.Z)(r,[{key:"render",value:function(){var e=this,t=this.props.MainStore,r=t.run,s=t.defaultNumberFormat,n=t.bigNumberFormat,o=t.twoNumberFormat,i=this.props.sell?"btn btn-green":"btn btn-dark",l=this.props.sell?"btn btn-green bg-green-700 hover:bg-green-800 focus:bg-green-900 dark:bg-green-700 dark:hover:bg-green-800 dark:focus:bg-green-700":"btn btn-dark",a=this.props.buy?"btn btn-red":"btn btn-dark",d=this.props.buy?"btn btn-red bg-red-600 hover:bg-red-700 focus:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 dark:focus:bg-red-700":"btn btn-dark",c=0,u=r.resources.findIndex((function(t){return t.id===e.props.id}));-1!==u&&"undefined"!==typeof r.resources[u].value&&(c=r.resources[u].value);var p=(0,k.uf)(Math.floor(c),s,n),h=0;-1!==(u=r.resources.findIndex((function(e){return"gold"===e.id})))&&"undefined"!==typeof r.resources[u].value&&(h=r.resources[u].value);var b=(0,k.uf)(Math.floor(h),s,n);return(0,v.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,v.jsxs)("div",{className:"flex-1 text-center",children:[(0,v.jsx)("h5",{className:"font-bold whitespace-nowrap w-full cursor-pointer",style:{color:this.props.color},onClick:this.handleClick,children:(0,m.K)("res_"+this.props.id)}),(0,v.jsx)("table",{className:"min-w-[60%] mx-auto my-4",children:(0,v.jsx)("tbody",{className:"text-sm",children:(0,v.jsxs)("tr",{className:"bg-gray-200 dark:bg-mydark-200/50",children:[(0,v.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,m.K)("res_gold")}),(0,v.jsx)("td",{className:"text-right px-4 py-1",children:o.format(Math.round(100*this.props.value)/100)})]})})})]}),x.tq?(0,v.jsxs)("div",{className:"grid gap-2 grid-cols-2",children:[(0,v.jsx)(y.a,{content:(0,v.jsxs)(v.Fragment,{children:[(0,m.K)("res_"+this.props.id)+": "+p,(0,v.jsx)("br",{}),(0,m.K)("res_gold")+": "+b]}),touch:!x.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,v.jsx)("button",{type:"button",className:l,onClick:function(t){return e.handleSell(t)},disabled:!this.props.sell,children:(0,m.K)("sell")})}),(0,v.jsx)(y.a,{content:(0,v.jsxs)(v.Fragment,{children:[(0,m.K)("res_"+this.props.id)+": "+p,(0,v.jsx)("br",{}),(0,m.K)("res_gold")+": "+b]}),touch:!x.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,v.jsx)("button",{type:"button",className:d,onClick:function(t){return e.handleBuy(t)},disabled:!this.props.buy,children:(0,m.K)("buy")})}),(0,v.jsx)(y.a,{content:(0,v.jsxs)(v.Fragment,{children:[(0,m.K)("res_"+this.props.id)+": "+p,(0,v.jsx)("br",{}),(0,m.K)("res_gold")+": "+b]}),touch:!x.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,v.jsxs)("button",{type:"button",className:i,onClick:function(t){return e.handleSellX(t)},disabled:!this.props.sell,children:[(0,m.K)("sell")," (x10)"]})}),(0,v.jsx)(y.a,{content:(0,v.jsxs)(v.Fragment,{children:[(0,m.K)("res_"+this.props.id)+": "+p,(0,v.jsx)("br",{}),(0,m.K)("res_gold")+": "+b]}),touch:!x.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,v.jsxs)("button",{type:"button",className:a,onClick:function(t){return e.handleBuyX(t)},disabled:!this.props.buy,children:[(0,m.K)("buy")," (x10)"]})})]}):(0,v.jsxs)("div",{className:"grid gap-2 grid-cols-2",children:[(0,v.jsx)("button",{type:"button",className:l,onClick:function(t){return e.handleSell(t)},disabled:!this.props.sell,children:(0,m.K)("sell")}),(0,v.jsx)("button",{type:"button",className:d,onClick:function(t){return e.handleBuy(t)},disabled:!this.props.buy,children:(0,m.K)("buy")}),(0,v.jsxs)("button",{type:"button",className:i,onClick:function(t){return e.handleSellX(t)},disabled:!this.props.sell,children:[(0,m.K)("sell")," (x10)"]}),(0,v.jsxs)("button",{type:"button",className:a,onClick:function(t){return e.handleBuyX(t)},disabled:!this.props.buy,children:[(0,m.K)("buy")," (x10)"]})]})]})}}]),r}(a.Component),S=(0,c.f3)("MainStore")((0,c.Pi)(j)),K=function(e){(0,i.Z)(r,e);var t=(0,l.Z)(r);function r(e){var n;return(0,s.Z)(this,r),(n=t.call(this,e)).state={selectedLine:null},n.selectLine=n.selectLine.bind((0,o.Z)(n)),n.selectLineRow=n.selectLineRow.bind((0,o.Z)(n)),n}return(0,n.Z)(r,[{key:"formatTooltip",value:function(e,t){var r=g.M.find((function(e){return(0,m.K)("res_"+e.id)===t}));return(Math.round(e/r.chart*100)/100).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}},{key:"selectLineRow",value:function(e){var t=this.state.selectedLine===(0,m.K)("res_"+e)?null:(0,m.K)("res_"+e);this.setState({selectedLine:t})}},{key:"selectLine",value:function(e){var t=this.state.selectedLine===e.dataKey?null:e.dataKey.trim();this.setState({selectedLine:t})}},{key:"render",value:function(){var e=this,t=this.props.MainStore.MarketStore,r=t.stocks,s=t.stocksData,n=this.props.MainStore.ResourcesStore.resources,o=this.props.MainStore.ResourcesStore.resourceValue("gold");return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)("div",{className:"tab-container",children:(0,v.jsxs)("div",{className:"flex flex-wrap min-w-full mt-3",children:[(0,v.jsx)("div",{className:"grid gap-3 grid-cols-fill-240 min-w-full",children:r.map((function(t){if(-1!==n.findIndex((function(e){return e.id===t.id}))){var r=e.props.MainStore.ResourcesStore.resourceValue(t.id);return(0,v.jsx)(S,{id:t.id,value:t.value,color:t.color,buy:o>=t.value,sell:r>0,onClick:e.selectLineRow},"stock_"+t.id)}return null}))}),(0,v.jsx)("div",{className:"w-full mt-2",style:{height:"300px"},children:(0,v.jsx)(h,{height:300,children:(0,v.jsxs)(b,{width:500,height:300,data:(0,d.ZN)(s),margin:{top:5,right:30,left:20,bottom:5},children:[(0,v.jsx)(u,{labelStyle:{display:"none"},formatter:this.formatTooltip}),(0,v.jsx)(p,{onClick:this.selectLine}),g.M.map((function(t){return-1!==n.findIndex((function(e){return e.id===t.id}))?(0,v.jsx)(f,{type:"linear",dot:!1,isAnimationActive:!1,strokeWidth:2,dataKey:null===e.state.selectedLine||e.state.selectedLine===(0,m.K)("res_"+t.id)?(0,m.K)("res_"+t.id):(0,m.K)("res_"+t.id)+" ",stroke:t.color,fill:t.color},"stock_line_"+t.id):null}))]})})})]})})})}}]),r}(a.Component),M=(0,c.f3)("MainStore")((0,c.Pi)(K))}}]);