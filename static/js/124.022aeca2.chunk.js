"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[124],{2124:function(e,r,t){t.r(r),t.d(r,{default:function(){return D}});var i=t(5671),s=t(3144),n=t(136),a=t(7277),o=t(7313),p=t(2126),l=t(7914),d=t(8982),c=t(8561),h=t.n(c),m=t(8966),x=t(1231),u=t(5339),g=t(6417),f=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(e){var s;return(0,i.Z)(this,t),(s=r.call(this,e)).handleSend=function(){var e=s.props.MainStore.ReqGenStore.checkReq("delegation",s.props.id,{id:s.props.id,req:s.props.req});!s.state.progress&&e&&(s.setState({progress:!0}),setTimeout((function(){s.props.MainStore.DiplomacyStore.sendDelegation(s.props.id)}),3e3))},s.state={progress:!1},s}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.MainStore.ReqGenStore.checkReq("delegation",this.props.id,{id:this.props.id,req:this.props.req}),r=this.props.MainStore.ReqGenStore.reqTooltipData("delegation",this.props.req),t="btn btn-dark px-8 3xl:px-4";return e?this.state.progress&&(t+=" btn-progress"):t+=" btn-off",(0,g.jsx)("div",{className:"mx-auto mt-4 mb-3",children:(0,g.jsx)("div",{className:"flex flex-col",children:(0,g.jsx)(l.a,{content:(0,g.jsx)(u.Z,{id:this.props.id,title:(0,d.K)("dip_"+this.props.id),description:(0,d.K)("dip_send_delegation_description"),reqTooltipData:r,prefix:"delegation"}),className:"!max-w-[260px]",touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:(0,g.jsxs)("button",{type:"button",className:t,onClick:this.handleSend,children:[(0,g.jsx)(h(),{path:m.H7z,className:"icon mr-1 mt-[1px]"}),(0,d.K)("dip_send_delegation")]})})})})}}]),t}(o.Component),b=(0,p.f3)("MainStore")((0,p.Pi)(f)),y=t(8519),j=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"render",value:function(){var e=this,r=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);return(0,g.jsxs)("div",{className:"mb-3 text-center w-full h-full",children:[(0,g.jsx)("p",{className:"pt-2 text-2xl font-bold text-green-600",children:(0,d.K)("dip_alliance")}),(0,g.jsx)("p",{className:"px-3 py-2 text-green-700",children:(0,d.K)("dip_alliance_description")}),(0,g.jsx)("table",{className:"mt-4 w-3/5 3xl:w-1/2 mx-auto",children:(0,g.jsx)("tbody",{className:"bg-gray-300 dark:bg-mydark-600 text-sm",children:r.map((function(r,t){return(0,g.jsxs)("tr",{className:t%2===0?"bg-green-300/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-green-900 dark:to-mydark-600":"bg-green-200 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-green-800 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:r.label}),(0,g.jsx)("td",{className:(0,y.AK)(r.value.indexOf("-")>=0?"text-red-500":"","px-4 py-1 text-right"),children:r.value})]},"gen_alliance_"+e.props.id+t)}))})})]})}}]),t}(o.Component),v=(0,p.f3)("MainStore")((0,p.Pi)(j)),k=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"render",value:function(){var e=this,r=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);return(0,g.jsxs)("div",{className:"mb-3 text-center w-full h-full",children:[(0,g.jsx)("p",{className:"pt-2 text-2xl font-bold text-green-600",children:(0,d.K)("dip_owned")}),(0,g.jsx)("p",{className:"px-3 py-2 text-green-700",children:(0,d.K)("dip_owned_description")}),(0,g.jsx)("table",{className:"mt-4 w-3/5 3xl:w-1/2 mx-auto",children:(0,g.jsx)("tbody",{className:"bg-gray-300 dark:bg-mydark-600 text-sm",children:r.map((function(r,t){return(0,g.jsxs)("tr",{className:t%2===0?"bg-green-300/60 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-green-900 dark:to-mydark-600":"bg-green-200 dark:bg-mydark-300 dark:bg-gradient-to-r dark:from-green-800 dark:to-mydark-600",children:[(0,g.jsx)("td",{className:"px-4 py-1 text-left whitespace-nowrap",children:r.label}),(0,g.jsx)("td",{className:(0,y.AK)(r.value.indexOf("-")>=0?"text-red-500":"","px-4 py-1 text-right"),children:r.value})]},"gen_owned_"+e.props.id+t)}))})})]})}}]),t}(o.Component),N=(0,p.f3)("MainStore")((0,p.Pi)(k)),_=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(e){var s;return(0,i.Z)(this,t),(s=r.call(this,e)).handleAlliance=function(e){s.state.progressAlliance||(e.currentTarget.blur(),s.setState({progressAlliance:!0}),setTimeout((function(){s.props.MainStore.DiplomacyStore.alliance(s.props.id)}),3e3))},s.handleImprove=function(e){var r=s.props.MainStore.DiplomacyStore.positiveRelationship,t=!(s.props.relationship>r)&&s.props.MainStore.ReqGenStore.checkReq("diplomacy",s.props.id,{id:s.props.id,req:s.props.req});!s.state.progressImprove&&t&&(e.currentTarget.blur(),s.setState({progressImprove:!0}),setTimeout((function(){s.props.MainStore.DiplomacyStore.improveRelationship(s.props.id),s.setState({progressImprove:!1})}),3e3))},s.handleInsult=function(e){s.state.progressInsult||(e.currentTarget.blur(),s.setState({progressInsult:!0}),setTimeout((function(){s.props.MainStore.DiplomacyStore.insultRelationship(s.props.id),s.setState({progressInsult:!1})}),3e3))},s.handleWar1=function(e){s.state.progressInsult||(e.currentTarget.blur(),s.props.MainStore.showConfirm("","dip_war_confirm_description",s.handleWar))},s.handleWar=function(){s.props.MainStore.confirmCancelFunc(),s.setState({progressInsult:!0}),setTimeout((function(){s.props.MainStore.DiplomacyStore.war(s.props.id)}),3e3)},s.state={progressAlliance:!1,progressImprove:!1,progressInsult:!1},s}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.MainStore.DiplomacyStore,r=e.negativeRelationship,t=e.positiveRelationship,i=!(this.props.relationship>t)&&this.props.MainStore.ReqGenStore.checkReq("diplomacy",this.props.id,{id:this.props.id,req:this.props.req}),s=this.props.relationship>t?[]:this.props.MainStore.ReqGenStore.reqTooltipData("diplomacy",this.props.req),n=this.props.relationship>t?this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen):[],a="";this.props.relationship>t?a+=" border-green-500 dark:border-green-700":this.props.relationship<r&&(a+=" border-red-500 dark:border-red-700");var o="btn btn-green w-full";i?this.state.progressImprove&&(o+=" btn-progress btn-progress-dark"):o+=" btn-off border-green-500 dark:border-green-700";var p="btn btn-red w-full";this.state.progressInsult&&(p+=" btn-progress btn-progress-dark");var c="btn btn-blue w-full";this.state.progressAlliance&&(c+=" btn-progress btn-progress-dark");var x="btn btn-red w-full";return this.state.progressInsult&&(x+=" btn-progress btn-progress-dark"),(0,g.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col "+a,children:[(0,g.jsx)("div",{className:"flex-1 text-center",children:(0,g.jsx)("h5",{className:"font-bold whitespace-nowrap inline",children:(0,d.K)("dip_relationships")})}),(0,g.jsx)("div",{className:"flex flex-wrap min-w-full mt-3 h-full",children:(0,g.jsxs)("div",{className:"grid gap-3 min-w-full my-auto px-8 lg:px-12 3xl:px-0",children:[this.props.relationship>t?(0,g.jsx)(l.a,{content:(0,g.jsx)(u.Z,{id:this.props.id,title:(0,d.K)("dip_"+this.props.id),description:(0,d.K)("dip_alliance_description"),genTooltipData:n,prefix:"alliance"}),className:"!max-w-[260px]",touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:(0,g.jsxs)("button",{type:"button",className:c,onClick:this.handleAlliance,children:[(0,g.jsx)(h(),{path:m.FBh,className:"icon mr-1 mt-[1px]"}),(0,d.K)("dip_alliance")]})}):(0,g.jsx)(l.a,{content:(0,g.jsx)(u.Z,{id:this.props.id,title:(0,d.K)("dip_"+this.props.id),description:(0,d.K)("dip_improve_relationships_description"),reqTooltipData:s,prefix:"improve"}),className:"!max-w-[260px]",touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:(0,g.jsxs)("button",{type:"button",className:o,onClick:this.handleImprove,children:[(0,g.jsx)(h(),{path:m.E1P,className:"icon mr-1 mt-[1px]"}),(0,g.jsx)("span",{className:"3xl:hidden 4xl:inline",children:(0,d.K)("dip_improve_relationships")}),(0,g.jsx)("span",{className:"hidden 3xl:inline 4xl:hidden",children:(0,d.K)("dip_improve_relationships_abbr")})]})}),this.props.relationship<r?(0,g.jsx)(l.a,{content:(0,d.K)("dip_war_description"),touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:(0,g.jsxs)("button",{type:"button",className:x,onClick:this.handleWar1,children:[(0,g.jsx)(h(),{path:m.Hne,className:"icon mr-1 mt-[1px]"}),(0,d.K)("dip_war")]})}):(0,g.jsx)(l.a,{content:(0,d.K)("dip_insult_description"),touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:(0,g.jsxs)("button",{type:"button",className:p,onClick:this.handleInsult,children:[(0,g.jsx)(h(),{path:m.hb5,className:"icon mr-1 mt-[1px]"}),(0,d.K)("dip_insult")]})})]})})]})}}]),t}(o.Component),w=(0,p.f3)("MainStore")((0,p.Pi)(_)),S=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(){var e;(0,i.Z)(this,t);for(var s=arguments.length,n=new Array(s),a=0;a<s;a++)n[a]=arguments[a];return(e=r.call.apply(r,[this].concat(n))).handleToggleTrade=function(){e.props.MainStore.DiplomacyStore.toggleTrade(e.props.id)},e}return(0,s.Z)(t,[{key:"render",value:function(){var e=this;return(0,g.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col "+(1===this.props.trade?" border-green-500 dark:border-green-700":""),children:[(0,g.jsxs)("div",{className:"flex-1 text-center px-12 3xl:px-0",children:[(0,g.jsx)("h5",{className:"font-bold whitespace-nowrap inline "+(1===this.props.trade?" !text-green-600 dark:!text-green-500":""),children:(0,d.K)("dip_trade_agreements")}),(0,g.jsx)("table",{className:"min-w-full my-4",children:(0,g.jsx)("tbody",{className:"bg-gray-300 dark:bg-mydark-600 text-sm",children:this.props.resources.map((function(r,t){return(0,g.jsxs)("tr",{className:t%2===0?"bg-gray-200 dark:bg-mydark-300":"",children:[(0,g.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,d.K)("res_"+r.id)}),(0,g.jsxs)("td",{className:(0,y.AK)(r.value<0?"text-red-600":"","text-right px-4 py-1"),children:[r.value>0?"+":"",r.value.toLocaleString(),"/s"]})]},e.props.id+"_trade_"+t)}))})})]}),(0,g.jsx)("div",{className:"text-center px-4 lg:px-12 xl:px-8 2xl:px-12 3xl:px-0",children:1===this.props.trade?(0,g.jsxs)("button",{type:"button",className:"btn btn-dark w-full",onClick:this.handleToggleTrade,children:[(0,g.jsx)(h(),{path:m.UEB,className:"icon mr-1 mt-[1px]"}),(0,g.jsx)("span",{className:"3xl:hidden 4xl:inline",children:(0,d.K)("dip_trade_cancel")}),(0,g.jsx)("span",{className:"hidden 3xl:inline 4xl:hidden",children:(0,d.K)("dip_trade_cancel_abbr")})]}):(0,g.jsxs)("button",{type:"button",className:"btn btn-green w-full",onClick:this.handleToggleTrade,children:[(0,g.jsx)(h(),{path:m.p$j,className:"icon mr-1 mt-[1px]"}),(0,g.jsx)("span",{className:"3xl:hidden 4xl:inline",children:(0,d.K)("dip_trade_accept")}),(0,g.jsx)("span",{className:"hidden 3xl:inline 4xl:hidden",children:(0,d.K)("dip_trade_accept_abbr")})]})})]})}}]),t}(o.Component),K=(0,p.f3)("MainStore")((0,p.Pi)(S)),Z=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"render",value:function(){var e=this.props.MainStore.DiplomacyStore.negativeRelationship;return(0,g.jsx)(g.Fragment,{children:1===this.props.runDiplomacy.alliance?(0,g.jsx)(v,{id:this.props.diplomacy.id,gen:this.props.diplomacy.alliance}):1===this.props.runDiplomacy.owned?(0,g.jsx)(N,{id:this.props.diplomacy.id,gen:this.props.diplomacy.gen}):1===this.props.runDiplomacy.war?(0,g.jsx)("div",{className:"flex justify-center text-sm mt-3",children:(0,g.jsx)("div",{className:"min-w-[40%] w-auto",children:(0,g.jsx)(x.Z,{text:(0,d.K)("dip_war_declaration"),type:"war",small:!0})})}):0===this.props.runDiplomacy.relationship?(0,g.jsx)(b,{id:this.props.diplomacy.id,req:this.props.diplomacy.reqDelegation}):(0,g.jsxs)("div",{className:"grid gap-3 3xl:grid-cols-2 min-w-full mt-3",children:[(0,g.jsx)(w,{id:this.props.diplomacy.id,req:this.props.diplomacy.reqImproveRelationship,gen:this.props.diplomacy.alliance,relationship:this.props.runDiplomacy.relationship}),this.props.runDiplomacy.relationship>=e?(0,g.jsx)(K,{id:this.props.diplomacy.id,resources:this.props.diplomacy.commercial,trade:this.props.runDiplomacy.trade}):null]})})}}]),t}(o.Component),q=(0,p.f3)("MainStore")((0,p.Pi)(Z)),M=function(e){(0,n.Z)(t,e);var r=(0,a.Z)(t);function t(){return(0,i.Z)(this,t),r.apply(this,arguments)}return(0,s.Z)(t,[{key:"handleKingdomNotification",value:function(e,r){var t=1===r.war&&1!==r.owned&&1!==r.alliance?"war":"green";this.props.MainStore.toggleImageNotification("img_"+e,"img_"+e+"_description",t)}},{key:"render",value:function(){var e=this,r=this.props.MainStore.run.diplomacy,t=this.props.MainStore.DiplomacyStore,i=t.visibleDiplomacy,s=t.negativeRelationship,n=t.positiveRelationship;return(0,g.jsx)("div",{className:"tab-container",children:(0,g.jsx)("div",{className:"flex flex-wrap min-w-full mt-3",children:(0,g.jsx)("div",{className:"grid gap-3 xl:gap-5 xl:grid-cols-2 min-w-full",children:i.length>0?i.map((function(t){var i=r.find((function(e){return e.id===t.id}));return(0,g.jsxs)("div",{className:"flex flex-wrap min-w-full overflow-hidden p-3 shadow rounded-lg ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:[(0,g.jsxs)("div",{className:"w-full font-bold h-min",children:[(0,g.jsx)(l.a,{content:(0,g.jsx)(g.Fragment,{children:0===i.relationship?(0,d.K)("dip_relationship_unknown"):i.relationship<s?(0,d.K)("dip_relationship_negative"):i.relationship>n?(0,d.K)("dip_relationship_positive"):(0,d.K)("dip_relationship_neutral")}),touch:["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top","bottom"]}}]},children:0===i.relationship?(0,g.jsx)(h(),{path:m.Gir,className:"icon inline -mt-1 mr-2 text-gray-500"}):i.relationship<s?(0,g.jsx)(h(),{path:m.fjy,className:"icon inline -mt-1 mr-2 text-red-600"}):i.relationship>n?(0,g.jsx)(h(),{path:m.AV$,className:"icon inline -mt-1 mr-2 text-green-600"}):(0,g.jsx)(h(),{path:m.kaV,className:"icon inline -mt-1 mr-2 text-gray-500"})}),(0,g.jsxs)("button",{type:"button",className:"inline-flex items-center font-bold",onClick:function(){return e.handleKingdomNotification(t.id,i)},children:[(0,d.K)("dip_"+t.id)," ",(0,g.jsx)(h(),{path:m.fOx,className:"icon inline !w-4 ml-1"})]})]}),(0,g.jsx)(q,{runDiplomacy:i,diplomacy:t})]},"dip_card_"+t.id)})):null})})})}}]),t}(o.Component),D=(0,p.f3)("MainStore")((0,p.Pi)(M))}}]);