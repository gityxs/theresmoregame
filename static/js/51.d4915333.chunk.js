"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[51],{8051:(e,t,s)=>{s.r(t),s.d(t,{default:()=>v});var o=s(9950),r=s(8232),l=s(2094),n=s(4537),i=s(341),a=s(2823),d=s(9135),c=s(443),h=s(6971),p=s(1377),m=s(346),x=s(2073),g=s(4414);class f extends o.Component{constructor(){super(...arguments),this.handleAdd=()=>{this.props.owned||!this.props.buildable&&!this.props.selected||this.props.MainStore.LegacyStore.selectLegacy(this.props.id)}}render(){const e=this.props.MainStore.ReqGenStore.reqTooltipData("legacy",this.props.req),t=this.props.MainStore.ReqGenStore.genTooltipData(this.props.gen);let s="btn btn-dark";return this.props.owned?s+=" btn-off btn-cap":this.props.selected?s+=" !text-white !bg-blue-600 hover:!bg-blue-700 focus:!bg-blue-800 !border-transparent":this.props.buildable||(s+=" btn-off"),(0,g.jsx)("div",{className:"flex flex-col",children:(0,g.jsx)(m.l,{content:(0,g.jsx)(x.A,{id:this.props.id,title:(0,c.v)("leg_"+this.props.id),description:(0,c.v)("leg_"+this.props.id+"_description"),owned:this.props.owned,reqTooltipData:e,genTooltipData:t,prefix:"leg"}),className:"!max-w-[300px]",touch:["hold",500],placement:p.Fr?"top":"bottom",popperOptions:{modifiers:[{name:"flip",options:{fallbackPlacements:["bottom","top","right","left"]}}]},children:(0,g.jsx)("button",{type:"button",className:s,onClick:this.handleAdd,children:(0,g.jsx)("div",{className:"text-truncate",children:(0,c.v)("leg_"+this.props.id)})})})})}}const b=(0,r.WQ)("MainStore")((0,r.PA)(f));class u extends o.Component{constructor(){super(...arguments),this.handleClose=()=>{this.props.MainStore.LegacyStore.toggleSoftReset()},this.handleSoftReset1=()=>{this.props.MainStore.showConfirm("(1/3)","soft_reset_confirm_1",this.handleSoftReset2)},this.handleSoftReset2=()=>{this.props.MainStore.showConfirm("(2/3)","soft_reset_confirm_2",this.handleSoftReset3)},this.handleSoftReset3=()=>{this.props.MainStore.showConfirm("(3/3)","soft_reset_confirm_3",this.handleSoftReset)},this.handleSoftReset=()=>{this.props.MainStore.confirmCancelFunc(),this.props.MainStore.softReset()}}render(){const{softResetInProgress:e}=this.props.MainStore,{flag:t,flagb:s}=this.props.MainStore.run,{softResetTitle:r,softResetDescription:p,softResetPreDescription:m,showSoftReset:x,legacies:f,buildableLegacies:u,ownedLegacies:v,selectedLegacies:j,legacyAvailable:A}=this.props.MainStore.LegacyStore,{relic:S,tome_wisdom:y,coin:N,gem:w,titan_gift:k}=this.props.MainStore.ResourcesStore;let R="btn btn-red px-6";R+=" hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700";const _=!(e||2===t||2===s);return(0,g.jsx)(l.e.Root,{show:x,as:o.Fragment,children:(0,g.jsxs)(n.l,{as:"div",className:"relative z-50",onClose:_?this.handleClose:()=>null,static:_,children:[(0,g.jsx)(a.A,{}),(0,g.jsx)("div",{className:"fixed z-10 inset-0 overflow-y-auto",children:(0,g.jsx)("div",{className:"flex items-center justify-center min-h-full p-4 text-center lg:p-0",children:(0,g.jsx)(l.e.Child,{as:o.Fragment,enter:"ease-out duration-300",enterFrom:"opacity-0 translate-y-4",enterTo:"opacity-100 translate-y-0",leave:"ease-in duration-200",leaveFrom:"opacity-100 translate-y-0",leaveTo:"opacity-0 translate-y-4",children:(0,g.jsxs)(n.l.Panel,{className:"modal-container lg:my-8 lg:max-w-4xl lg:pt-6",children:[_?(0,g.jsx)(i.A,{onClick:this.handleClose}):null,(0,g.jsx)("div",{children:(0,g.jsxs)("div",{className:"mt-0",children:[(0,g.jsx)(n.l.Title,{as:"h3",className:"modal-title",children:r}),e?(0,g.jsx)("div",{className:"px-4 pb-4 lg:px-6 lg:pb-6 mt-6 font-game",children:(0,g.jsx)(d.A,{text:(0,c.v)("soft_reset_in_progress")+" . . .",type:"info"})}):(0,g.jsxs)(g.Fragment,{children:[m.length>0?(0,g.jsx)("div",{className:"flex flex-col m-6 text-xl font-bold leading-10",children:(0,g.jsx)(d.A,{text:m.join(" "),type:2===t||2===s?"war":"victory"})}):null,(0,g.jsx)("div",{className:"flex flex-col m-6",children:(0,g.jsx)(d.A,{text:p,type:"info",mobileIcon:!1})}),(0,g.jsxs)("h3",{className:"text-center text-3xl font-bold",children:[(0,c.v)("legacy_points"),": ",A.toLocaleString()]}),S>0?(0,g.jsxs)("h6",{className:"my-1 font-bold text-center",children:[(0,c.v)("res_relic"),": ",S]}):null,N>0?(0,g.jsxs)("h6",{className:"my-1 font-bold text-center",children:[(0,c.v)("res_coin"),": ",N]}):null,y>0?(0,g.jsxs)("h6",{className:"my-1 font-bold text-center",children:[(0,c.v)("res_tome_wisdom"),": ",y]}):null,w>0?(0,g.jsxs)("h6",{className:"my-1 font-bold text-center",children:[(0,c.v)("res_gem"),": ",w]}):null,k>0?(0,g.jsxs)("h6",{className:"my-1 font-bold text-center",children:[(0,c.v)("res_titan_gift"),": ",k]}):null,f.length>0?(0,g.jsx)("div",{className:"p-6",children:(0,g.jsx)("div",{className:"flex flex-wrap min-w-full p-3 shadow rounded-lg lg:ring-1 ring-gray-300 dark:ring-mydark-200 bg-gray-100 dark:bg-mydark-600",children:(0,g.jsx)("div",{className:"grid gap-3 grid-cols-fill-180 min-w-full",children:f.map((e=>{let t=u.findIndex((t=>t.id===e.id));const s=-1!==t;t=v.findIndex((t=>t.id===e.id));const o=-1!==t,r=j.includes(e.id);return(0,g.jsx)(b,{id:e.id,buildable:s,owned:o,selected:r,req:e.req,gen:e.gen},"leg_"+e.id)}))})})}):null,(0,g.jsx)("div",{className:"text-center mb-6 px-9 lg:px-0"+(f.length>0?"":" mt-6"),children:(0,g.jsxs)("button",{type:"button",className:"btn btn-red px-6 hover:!bg-amber-300 hover:text-red-600 dark:hover:!bg-amber-400 dark:hover:text-red-700",onClick:this.handleSoftReset1,children:[(0,g.jsx)("img",{src:h,style:{width:"19px",height:"19px"},className:"icon mr-2 mt-[2px] lg:mt-[1px]",alt:""}),(0,c.v)("prestige")]})})]})]})})]})})})})]})})}}const v=(0,r.WQ)("MainStore")((0,r.PA)(u))},6971:e=>{e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABMAAAATCAYAAAByUDbMAAABkUlEQVQ4y4WUP0tcURDFz13btVpjskQLS4uUNkKIol/AtPsZbLVVRMIWIhauKNjtx0hv8E+pCLLKCm7IYpNiBTH6S+G5cL28t04zb86cOTP335MSA4L9J2ATOAMGvNqD402grmGWCO3x1i6AU/vU9tO6N0JABeiYeA18LWk6B3TNu3NtyCeKQjtJYQWoGv+Sie4Yv8m7tZxo5aMD/WRpo7GJ/bbxvUj+aOA+Jfr7ONun+yQ3Yv/HuQ8VScvOtyLPpLakmRjbasCZJIUQno0d2K8IOLHyt6TrqrGXbLIYtxPugrEjAX8dzDvZKBHI7Yf5i477FUlVN4lXIUhqSPouqeM42qOkJeevjM3aj6WT9Qru1FE2zaCAc5tOdmm8DjQzbnjn1axJmnR4JWDdys/2Gwn5V9lkwFq2p00B4wkYE+fAdJkYMOn4X5KrxS67Jaf3UiI2kYnt5uu/K7gS74kB/I4a8Y2FEMJnSd1s84cegKReCKFe+BsqWHJuT+ZMAYeF/7OCI68BW75nPS+3D/wcVvcf9jL/QoHkFSUAAAAASUVORK5CYII="}}]);