"use strict";(self.webpackChunkTheresmore=self.webpackChunkTheresmore||[]).push([[173],{4173:function(e,r,n){n.r(r),n.d(r,{default:function(){return f}});var l=n(5671),t=n(3144),s=n(9340),a=n(2882),o=n(7313),d=n(2126),i=n(4862),u=n(7914),c=n(8982),p=n(8519),b=n(6417),h=function(e){(0,s.Z)(n,e);var r=(0,a.Z)(n);function n(){var e;(0,l.Z)(this,n);for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];return(e=r.call.apply(r,[this].concat(s))).handleSell10=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.sell(e.props.id,10)},e.handleSell100=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.sell(e.props.id,100)},e.handleSell1000=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.sell(e.props.id,1e3)},e.handleBuy10=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.buy(e.props.id,10)},e.handleBuy100=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.buy(e.props.id,100)},e.handleBuy1000=function(r){r.stopPropagation(),i.tq||r.currentTarget.blur(),e.props.MainStore.MarketStore.buy(e.props.id,1e3)},e}return(0,t.Z)(n,[{key:"render",value:function(){var e=this,r=this.props.MainStore,n=r.run,l=r.defaultNumberFormat,t=r.bigNumberFormat,s=r.twoNumberFormat,a=this.props.ownedGold>=10*this.props.buyValue,o=this.props.ownedGold>=100*this.props.buyValue,d=this.props.ownedGold>=1e3*this.props.buyValue,h="btn btn-green bg-green-700 hover:bg-green-800 focus:bg-green-900 dark:bg-green-700 dark:hover:bg-green-800 dark:focus:bg-green-700",x=a?h:"btn btn-dark",m=o?h:"btn btn-dark",f=d?h:"btn btn-dark",g=this.props.ownedId>=10,k=this.props.ownedId>=100,y=this.props.ownedId>=1e3,j="btn btn-red bg-red-600 hover:bg-red-700 focus:bg-red-800 dark:bg-red-700 dark:hover:bg-red-800 dark:focus:bg-red-700",v=g?j:"btn btn-dark",N=k?j:"btn btn-dark",w=y?j:"btn btn-dark",S="btn relative w-full",M=S+" rounded-l-full rounded-r-none",C=S+" rounded-l-none rounded-r-none -ml-px",P=S+" rounded-l-none rounded-r-full -ml-px",_=0,B=n.resources.findIndex((function(r){return r.id===e.props.id}));-1!==B&&"undefined"!==typeof n.resources[B].value&&(_=n.resources[B].value);var K=(0,p.uf)(Math.floor(_),l,t),V=0;-1!==(B=n.resources.findIndex((function(e){return"gold"===e.id})))&&"undefined"!==typeof n.resources[B].value&&(V=n.resources[B].value);var q=(0,p.uf)(Math.floor(V),l,t);return(0,b.jsxs)("div",{className:"p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsx)("h5",{className:"font-bold whitespace-nowrap w-full",children:(0,c.K)("res_"+this.props.id)})}),(0,b.jsxs)("div",{className:"relative p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col my-3",children:[(0,b.jsx)("label",{className:"absolute -top-2 left-3 -mt-px inline-block px-1 text-xs font-medium z-10 px-1.5 rounded-full bg-gray-100 dark:bg-mydark-400",children:(0,c.K)("sell")}),(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsx)("table",{className:"min-w-[60%] mx-auto mb-4",children:(0,b.jsx)("tbody",{className:"text-sm",children:(0,b.jsxs)("tr",{className:"bg-gray-200 dark:bg-mydark-200/50",children:[(0,b.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,c.K)("res_gold")}),(0,b.jsx)("td",{className:"text-right px-4 py-1",children:s.format(Math.round(100*this.props.sellValue)/100)})]})})})}),i.tq?(0,b.jsx)("div",{className:"grid gap-3",children:(0,b.jsx)("div",{className:"flex flex-col relative",children:(0,b.jsx)(u.a,{content:(0,b.jsxs)(b.Fragment,{children:[(0,c.K)("res_"+this.props.id)+": "+K,(0,b.jsx)("br",{}),(0,c.K)("res_gold")+": "+q]}),touch:!i.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,b.jsxs)("span",{className:"relative inline-flex shadow-sm rounded-full",children:[(0,b.jsx)("button",{type:"button",className:M+" "+v,onClick:function(r){return e.handleSell10(r)},disabled:!g,children:"10"}),(0,b.jsx)("button",{type:"button",className:C+" "+N+(k?" border-l-red-700 dark:border-l-red-800":""),onClick:function(r){return e.handleSell100(r)},disabled:!k,children:"100"}),(0,b.jsx)("button",{type:"button",className:P+" "+w+(y?" border-l-red-700 dark:border-l-red-800":""),onClick:function(r){return e.handleSell1000(r)},disabled:!y,children:"1000"})]})})})}):(0,b.jsx)("div",{className:"grid gap-3",children:(0,b.jsx)("div",{className:"flex flex-col relative",children:(0,b.jsxs)("span",{className:"relative inline-flex shadow-sm rounded-full",children:[(0,b.jsx)("button",{type:"button",className:M+" "+v,onClick:function(r){return e.handleSell10(r)},disabled:!g,children:"10"}),(0,b.jsx)("button",{type:"button",className:C+" "+N+(k?" border-l-red-700 dark:border-l-red-800":""),onClick:function(r){return e.handleSell100(r)},disabled:!k,children:"100"}),(0,b.jsx)("button",{type:"button",className:P+" "+w+(y?" border-l-red-700 dark:border-l-red-800":""),onClick:function(r){return e.handleSell1000(r)},disabled:!y,children:"1000"})]})})})]}),(0,b.jsxs)("div",{className:"relative p-4 bg-gray-100 dark:bg-mydark-400 border border-gray-300 dark:border-mydark-200 rounded-lg shadow flex flex-col",children:[(0,b.jsx)("label",{className:"absolute -top-2 left-3 -mt-px inline-block px-1 text-xs font-medium z-10 px-1.5 rounded-full bg-gray-100 dark:bg-mydark-400",children:(0,c.K)("buy")}),(0,b.jsx)("div",{className:"flex-1 text-center",children:(0,b.jsx)("table",{className:"min-w-[60%] mx-auto mb-4",children:(0,b.jsx)("tbody",{className:"text-sm",children:(0,b.jsxs)("tr",{className:"bg-gray-200 dark:bg-mydark-200/50",children:[(0,b.jsx)("td",{className:"text-left px-4 py-1 whitespace-nowrap",children:(0,c.K)("res_gold")}),(0,b.jsx)("td",{className:"text-right px-4 py-1",children:s.format(Math.round(100*this.props.buyValue)/100)})]})})})}),i.tq?(0,b.jsx)("div",{className:"grid gap-3",children:(0,b.jsx)("div",{className:"flex flex-col relative",children:(0,b.jsx)(u.a,{content:(0,b.jsxs)(b.Fragment,{children:[(0,c.K)("res_"+this.props.id)+": "+K,(0,b.jsx)("br",{}),(0,c.K)("res_gold")+": "+q]}),touch:!i.gn||["hold",500],placement:"auto",popperOptions:{modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},children:(0,b.jsxs)("span",{className:"relative inline-flex shadow-sm rounded-full",children:[(0,b.jsx)("button",{type:"button",className:M+" "+x,onClick:function(r){return e.handleBuy10(r)},disabled:!a,children:"10"}),(0,b.jsx)("button",{type:"button",className:C+" "+m+(o?" border-l-green-800":""),onClick:function(r){return e.handleBuy100(r)},disabled:!o,children:"100"}),(0,b.jsx)("button",{type:"button",className:P+" "+f+(d?" border-l-green-800":""),onClick:function(r){return e.handleBuy1000(r)},disabled:!d,children:"1000"})]})})})}):(0,b.jsx)("div",{className:"grid gap-3",children:(0,b.jsx)("div",{className:"flex flex-col relative",children:(0,b.jsxs)("span",{className:"relative inline-flex shadow-sm rounded-full",children:[(0,b.jsx)("button",{type:"button",className:M+" "+x,onClick:function(r){return e.handleBuy10(r)},disabled:!a,children:"10"}),(0,b.jsx)("button",{type:"button",className:C+" "+m+(o?" border-l-green-800":""),onClick:function(r){return e.handleBuy100(r)},disabled:!o,children:"100"}),(0,b.jsx)("button",{type:"button",className:P+" "+f+(d?" border-l-green-800":""),onClick:function(r){return e.handleBuy1000(r)},disabled:!d,children:"1000"})]})})})]})]})}}]),n}(o.Component),x=(0,d.f3)("MainStore")((0,d.Pi)(h)),m=function(e){(0,s.Z)(n,e);var r=(0,a.Z)(n);function n(){return(0,l.Z)(this,n),r.apply(this,arguments)}return(0,t.Z)(n,[{key:"render",value:function(){var e=this,r=this.props.MainStore.MarketStore.stocks,n=this.props.MainStore.ResourcesStore.resources,l=this.props.MainStore.ResourcesStore.resourceValue("gold");return(0,b.jsx)(b.Fragment,{children:(0,b.jsx)("div",{className:"tab-container",children:(0,b.jsx)("div",{className:"flex flex-wrap min-w-full mt-3",children:(0,b.jsx)("div",{className:"grid gap-3 grid-cols-fill-240 min-w-full",children:r.map((function(r){if(-1!==n.findIndex((function(e){return e.id===r.id}))){var t=e.props.MainStore.ResourcesStore.resourceValue(r.id);return(0,b.jsx)(x,{id:r.id,sellValue:r.sell_value,buyValue:r.buy_value,ownedGold:l,ownedId:t},"stock_"+r.id)}return null}))})})})})}}]),n}(o.Component),f=(0,d.f3)("MainStore")((0,d.Pi)(m))}}]);